(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{301:function(e,t,n){e.exports=n.p+"static/media/bg.9cc87693.jpg"},314:function(e,t,n){e.exports=n(602)},602:function(e,t,n){"use strict";n.r(t);var r,a=n(111),i=n(312),o=n.n(i),s=n(14),c=n.n(s),l=(n(315),n(0)),u=n.n(l),p=n(25),m=n(27),d=n.n(m),h=n(611),f=n(274),b=n.n(f),g=n(4),y=n(3),E=n(6),v=n(5),O=n(7),k=(n(365),n(366),n(367),n(614)),j=n(603),w=n(11),S=n(604),_=n(278),x=n.n(_),z=n(279),D=n.n(z),F=n(275),C=n.n(F),A=n(276),N=n.n(A),P=n(277),T=n.n(P),M=n(191),q=n.n(M),B=n(280),Y=n.n(B),I=function(e){var t=e.to,n=e.children,r=e.exact;return l.createElement(j.a,{path:t,exact:r,children:function(e){var r=e.match;return l.createElement(q.a,{active:Boolean(r)},l.createElement(S.a,{className:"nav-link",to:t},n))}})},W=Object(w.b)("mainStore","apiStore")(r=Object(w.c)(r=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).handleLogout=function(e){e.preventDefault(),n.props.apiStore.logout()},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.mainStore,t=this.props.apiStore;return l.createElement(C.a,{color:"light",light:!0,expand:"md"},l.createElement(N.a,{href:"/"},"iZivi"),l.createElement(T.a,{onClick:function(){return e.navOpen=!e.navOpen}}),l.createElement(x.a,{isOpen:e.navOpen,navbar:!0},l.createElement(D.a,{className:"ml-auto",navbar:!0},t.isLoggedIn?l.createElement(l.Fragment,null,t.isAdmin&&l.createElement(l.Fragment,null,l.createElement(I,{to:"/users"},"Mitarbeiterliste"),l.createElement(I,{to:"/phones"},"Telefonliste"),l.createElement(I,{to:"/specifications"},"Pflichtenheft"),l.createElement(I,{to:"/holidays"},"Freitage"),l.createElement(I,{to:"/user_feedbacks"},"Einsatz Feedback"),l.createElement(I,{to:"/missions"},"Planung"),l.createElement(I,{to:"/report_sheets"},"Spesen"),l.createElement(I,{to:"/payments"},"Auszahlungen")),l.createElement(I,{to:"/profile"},"Profil"),l.createElement(I,{to:"/changePassword"},"Passwort \xe4ndern"),l.createElement(q.a,null,l.createElement(Y.a,{href:"/logout",onClick:this.handleLogout},"Abmelden"))):l.createElement(l.Fragment,null,l.createElement(I,{to:"/register"},"Registrieren"),l.createElement(I,{to:"/login"},"Anmelden")))))}}]),t}(l.Component))||r)||r;function L(e){return e}var R,V,H,Z,U,K,J,G,$=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return this.props.children||null}}]),t}(l.Component),X=d()(function(e){var t=e.colors,n=e.layout;return L({"@global":{body:{margin:0,padding:0,color:t.black,background:t.offwhite,fontFamily:"'Helvetica Neue', Arial, Helvetica, sans-serif",width:"100vw",minHeight:"100vh",overflowX:"hidden",fontWeight:400},a:{color:t.primary},"li, p":{marginBottom:n.baseSpacing/2}}})})($),Q=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).render=function(){return l.createElement("div",null,l.createElement(X,null),l.createElement(W,null),n.props.children)},n}return Object(O.a)(t,e),t}(l.Component),ee=n(110),te=n(281),ne=n(282),re=n(283),ae=n(284),ie=n(285),oe=n(286),se=n(287),ce=n(288),le=n(289),ue=n(290),pe=n(291),me=n(292),de=n(293),he=n(294),fe={prefix:"fas",iconName:"check"},be={prefix:"fas",iconName:"exclamation"},ge={prefix:"far",iconName:"square"},ye={prefix:"fas",iconName:"sync"},Ee={prefix:"fas",iconName:"edit"},ve={prefix:"far",iconName:"check-square"},Oe={prefix:"fas",iconName:"print"},ke={prefix:"far",iconName:"plus-square"},je={prefix:"far",iconName:"trash-alt"},we={prefix:"far",iconName:"clock"},Se={prefix:"far",iconName:"hourglass"},_e={prefix:"far",iconName:"save"},xe={prefix:"fas",iconName:"envelope"},ze=n(613),De=n(136),Fe=Object(w.b)("apiStore")(R=Object(w.c)(R=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).protect=function(e){var t={pathname:"/login",state:{referrer:e.location.pathname}},r={pathname:"/404",state:{referrer:e.location.pathname}},a=n.props.component,i=n.props.apiStore;return i.isLoggedIn?n.props.requiresAdmin&&!i.isAdmin?l.createElement(ze.a,{to:r}):l.createElement(a,e):(i.logout(!1),l.createElement(ze.a,{to:t}))},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement(De.a,Object.assign({},this.props,{component:void 0,render:this.protect}))}}]),t}(l.Component))||R)||R,Ce=n(2),Ae=n.n(Ce),Ne=n(10),Pe=n(23),Te=n(605),Me=n(15),qe=n.n(Me),Be=n(9),Ye=n(37),Ie=n(34),We=n.n(Ie),Le=n(300),Re=n.n(Le),Ve=n(57),He=n.n(Ve),Ze=n(41),Ue=n.n(Ze),Ke=n(298),Je=n.n(Ke),Ge=n(299),$e=n.n(Ge),Xe=n(76),Qe=n.n(Xe),et=function(e){return function(t){return l.createElement(Je.a,null,t,e.map(function(e,t){return l.createElement($e.a,{key:t,addonType:"append"},e)}))}},tt=function(){return function(e){return l.createElement(We.a,{md:9},e)}},nt=function(e){var t=e.children,n=e.invalid;return l.cloneElement(t,{invalid:n})},rt=function(e){var t=e.label,n=e.children,r=e.required,a=e.horizontal,i=e.appendedLabels,o=e.name,s=e.errorMessage,c=l.createElement(nt,{children:n,invalid:Boolean(s)}),u=Boolean(i)?i:[];return l.createElement(He.a,{row:a},t&&l.createElement(Qe.a,{for:o,md:a?3:void 0},t," ",r&&"*"),u.length>0&&a&&tt()(et(u)(c)),u.length>0&&!a&&et(u)(c),u.length<=0&&a&&tt()(c),u.length<=0&&!a&&c,s&&l.createElement(Re.a,{valid:!1},s))},at=function(e){var t=e.label,n=e.required,r=e.multiline,a=e.horizontal,i=e.appendedLabels,o=e.value,s=e.errorMessage,c=Object(Ye.a)(e,["label","required","multiline","horizontal","appendedLabels","value","errorMessage"]);return l.createElement(rt,{label:t,required:n,horizontal:a,appendedLabels:i,errorMessage:s},l.createElement(Ue.a,Object.assign({value:null===o?"":o},c,{type:r?"textarea":c.type})))},it=function(e){var t=e.label,n=e.required,r=(e.multiline,e.options),a=e.horizontal,i=e.value,o=e.errorMessage,s=Object(Ye.a)(e,["label","required","multiline","options","horizontal","value","errorMessage"]);return l.createElement(rt,{label:t,required:n,horizontal:a,errorMessage:o},l.createElement(Ue.a,Object.assign({value:null===i?"":i},s),r.map(function(e){return l.createElement("option",{value:e.id,key:e.id},e.name)})))},ot=function(e){return l.createElement(at,Object.assign({type:"number"},e))},st=function(e){return l.createElement(at,Object.assign({type:"password"},e))},ct=function(e){return l.createElement(at,Object.assign({type:"text"},e))},lt=function(e){return l.createElement(it,Object.assign({type:"select"},e))},ut=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).delayed;return function(e){return function(t){var n=t.form,r=t.field,a=Object(Ye.a)(t,["form","field"]),i=Object(Pe.d)(n.touched,r.name),o=Object(Pe.d)(n.errors,r.name);return l.createElement(e,Object.assign({errorMessage:i&&o?o:void 0},r,{onChange:function(e){null===e?n.setFieldValue(r.name,null):e.target&&"checkbox"===e.target.type?n.setFieldValue(r.name,e.target.checked):e.target?n.setFieldValue(r.name,e.target.value):n.setFieldValue(r.name,e)},onBlur:function(){n.setFieldTouched(r.name,!0)}},a))}}},pt=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.setState({component:ut({delayed:this.props.delayed})(this.props.component)})}},{key:"componentDidUpdate",value:function(e){e.component!==this.props.component&&this.setState({component:ut({delayed:this.props.delayed})(this.props.component)})}},{key:"render",value:function(){var e=this.props,t=(e.component,e.delayed,Object(Ye.a)(e,["component","delayed"]));return l.createElement(Pe.a,Object.assign({component:this.state.component},t))}}]),t}(l.Component),mt=n(142),dt=n(13),ht=n.n(dt),ft=n(302),bt=n.n(ft),gt=n(303),yt=n.n(gt),Et=n(301),vt=n.n(Et),Ot=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("loading-dots");window.setInterval(function(){e.innerHTML.length>3?e.innerHTML="":e.innerHTML+="."},100)}},{key:"render",value:function(){return l.createElement(l.Fragment,null,"Inhalt wird geladen, einen Moment ",l.createElement("span",{id:"loading-dots"},"."))}}]),t}(l.Component),kt=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).render=function(){n.updateTitle();var e=n.props,t=e.classes,r=e.children,a=e.loading,i=e.showBackgroundImage,o=e.card,s=e.title,c=a?l.createElement(Ot,null):r;return l.createElement("div",{className:ht()(n.props.className,t.container,Object(mt.a)({},t.background,i))},o?l.createElement(bt.a,{className:t.card},l.createElement(yt.a,null,s&&l.createElement("h1",null,s),l.createElement("br",null),c)):l.createElement("div",null,s&&l.createElement("h1",null,s),c))},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"updateTitle",value:function(){document.title=this.props.title?"iZivi - ".concat(this.props.title):"iZivi"}}]),t}(l.Component),jt=d()(function(e){return L({container:{"@media (min-width: 1024px)":{padding:"".concat(e.layout.baseSpacing,"px ").concat(2*e.layout.baseSpacing,"px")},composes:"mo-container"},background:{backgroundImage:"url(".concat(vt.a,")"),backgroundSize:"cover",minHeight:"94vh"},card:{background:"rgba(255, 255, 255, 0.9)",height:"auto"}})})(kt),wt=Be.object({old_password:Be.string().required("Pflichtfeld"),new_password:Be.string().required("Pflichtfeld").min(7,"Passwort muss mindestens 7 Zeichen sein"),new_password_2:Be.string().required("Pflichtfeld").min(7,"Passwort muss mindestens 7 Zeichen sein").test("passwords-match","Passw\xf6rter m\xfcssen \xfcbereinstimmen",function(e){return this.parent.new_password===e})}),St={old_password:"",new_password:"",new_password_2:""},_t=Object(w.b)("apiStore","mainStore")(V=Object(w.c)(V=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).changePassword=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.apiStore.postChangePassword(t);case 3:n.setState({success:!0}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.error.toString().includes("406")?n.props.mainStore.displayError("Falsches Passwort!"):n.props.mainStore.displayError("Ein interner Fehler ist aufgetreten. Bitte versuchen Sie es sp\xe4ter erneut.");case 10:return e.prev=10,r.setSubmitting(!1),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,6,10,13]])}));return function(t,n){return e.apply(this,arguments)}}(),n.state={success:!1},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement(jt,{card:!0,title:"Passwort \xe4ndern"},this.state.success?l.createElement("div",null,l.createElement("p",null,"Passwort erfolgreich ge\xe4ndert!")):l.createElement(Pe.b,{initialValues:St,validationSchema:wt,onSubmit:this.changePassword,render:function(e){return l.createElement(Te.a,{onSubmit:e.handleSubmit},l.createElement(pt,{component:st,name:"old_password",label:"Altes Passwort",placeholder:"*******"}),l.createElement(pt,{component:st,name:"new_password",label:"Neues Passwort",placeholder:"*******"}),l.createElement(pt,{component:st,name:"new_password_2",label:"Neues Passwort wiederholen",placeholder:"*******"}),l.createElement(qe.a,{color:"primary",disabled:e.isSubmitting,onClick:e.submitForm},"Passwort \xe4ndern"),l.createElement(qe.a,{style:{marginLeft:"10px"},color:"danger",onClick:function(){return window.location.pathname="/"}},"Abbrechen"))}}))}}]),t}(l.Component))||V)||V,xt=n(39),zt=n.n(xt),Dt=Be.object({email:Be.string().email().required()}),Ft={email:""},Ct=Object(w.b)("apiStore","mainStore")(H=Object(w.c)(H=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={success:!1},n.handleSubmit=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.apiStore.postForgotPassword(t.email);case 3:n.setState({success:!0,error:null}),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.error,e.t0.messages.forEach(n.props.mainStore.displayError);case 11:return e.prev=11,r.setSubmitting(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,6,11,14]])}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return l.createElement(jt,{card:!0,showBackgroundImage:!0},l.createElement(Pe.b,{initialValues:Ft,validationSchema:Dt,onSubmit:this.handleSubmit,render:function(t){return l.createElement(zt.a,{onSubmit:t.handleSubmit},l.createElement("h2",null,"Passwort vergessen"),e.state.success&&l.createElement("div",{className:"alert alert-info"},l.createElement("strong",null,"E-Mail gesendet"),l.createElement("br",null),"Sie haben eine E-Mail mit einem Link zum Passwort-Reset erhalten."),l.createElement(pt,{component:ct,name:"email",label:"Email",placeholder:"zivi@example.org"}),l.createElement(qe.a,{color:"primary",disabled:t.isSubmitting,onClick:t.submitForm},"Weiter"))}}))}}]),t}(l.Component))||H)||H,At=n(67),Nt=n.n(At),Pt=n(304),Tt=function(){return L({tableFix:{"& th, & td":{padding:"0.25em"}}})},Mt=function(e){return u.a.createElement(Pt.DateTimePicker,Object.assign({time:!1,editFormat:"DD.MM.YYYY",format:"DD.MM.YYYY"},e))},qt=d()(Tt)(function(e){var t=e.label,n=e.value,r=e.onChange,a=e.required,i=e.horizontal,o=e.errorMessage,s=Object(Ye.a)(e,["label","value","onChange","required","horizontal","errorMessage"]);return u.a.createElement("span",{className:s.classes.tableFix},u.a.createElement(rt,{label:t,required:a,horizontal:i,errorMessage:o},u.a.createElement(Mt,Object.assign({onChange:function(e){return r(e)},value:n?new Date(n):void 0},s))))}),Bt=d()(Tt)(function(e){var t=e.classes,n=Object(Ye.a)(e,["classes"]);return u.a.createElement("span",{className:t.tableFix},u.a.createElement(Mt,n))}),Yt=function(e){return u.a.createElement(Bt,e)},It=function(e){return u.a.createElement(qt,e)},Wt=n(24),Lt=n(12),Rt=(n(49),n(305)),Vt=n.n(Rt),Ht=n(306),Zt=n.n(Ht),Ut=n(8),Kt="BASE_URL".startsWith("http")?"BASE_URL":"http://localhost:48000/api",Jt="YYYY-MM-DD",Gt=(Z=function(){function e(t){Object(g.a)(this,e),this.history=t,this._api=void 0,Object(Wt.a)(this,"_token",U,this),this._api=Vt.a.create({baseURL:Kt}),this.restoreApiToken(),this.updateSentryContext(),this.initializeApiClient(this._token)}return Object(y.a)(e,[{key:"token",get:function(){return this._token}},{key:"api",get:function(){return this._api}},{key:"isLoggedIn",get:function(){return Boolean(this._token)&&c.a.unix(this.userInfo.exp).isAfter()}},{key:"isAdmin",get:function(){return Boolean(this.userInfo)&&Boolean(this.userInfo.isAdmin)}},{key:"meDetail",get:function(){return this.userInfo?this.userInfo.details:null}},{key:"userId",get:function(){return this.userInfo?this.userInfo.sub:void 0}},{key:"userInfo",get:function(){return this.token?Zt()(this._token):null}}]),Object(y.a)(e,[{key:"logout",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];localStorage.removeItem("izivi_token"),this._token="",this.setAuthHeader(null),e&&this.history.push("/"),this.updateSentryContext()}},{key:"postLogin",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n,r=this;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.post("/auth/login",t);case 2:n=e.sent,Object(Ut.n)(function(){r.setToken(n.data.data.token),r.updateSentryContext()});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"postRegister",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n,r=this;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.post("/auth/register",t);case 2:n=e.sent,Object(Ut.n)(function(){r.setToken(n.data.data.token),r.updateSentryContext()});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"postChangePassword",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.post("/users/change_password",t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"postForgotPassword",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._api.post("/auth/forgotPassword",{email:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"restoreApiToken",value:function(){var e=localStorage.getItem("izivi_token");e&&(this._token=e)}},{key:"initializeApiClient",value:function(e){var t=this;this.setAuthHeader(e),this._api.interceptors.response.use(function(e){return e},function(e){return e.response&&401===e.response.status&&(console.log("Unathorized API access, redirect to login"),t.logout()),Promise.reject({error:e,messages:e.response?e.response.data:[]})})}},{key:"setAuthHeader",value:function(e){this._api.defaults.headers.Authorization=e?"Bearer "+e:""}},{key:"setToken",value:function(e){this._token=e,localStorage.setItem("izivi_token",e),this.setAuthHeader(e)}},{key:"updateSentryContext",value:function(){var e=this;this.isLoggedIn?a.configureScope(function(t){return t.setUser({id:String(e.userId),full_name:e.meDetail?"".concat(e.meDetail.first_name," ").concat(e.meDetail.last_name):void 0})}):a.configureScope(function(e){return e.setUser({})})}}]),e}(),U=Object(Lt.a)(Z.prototype,"_token",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(Lt.a)(Z.prototype,"token",[Ut.e],Object.getOwnPropertyDescriptor(Z.prototype,"token"),Z.prototype),Object(Lt.a)(Z.prototype,"isLoggedIn",[Ut.e],Object.getOwnPropertyDescriptor(Z.prototype,"isLoggedIn"),Z.prototype),Object(Lt.a)(Z.prototype,"isAdmin",[Ut.e],Object.getOwnPropertyDescriptor(Z.prototype,"isAdmin"),Z.prototype),Object(Lt.a)(Z.prototype,"meDetail",[Ut.e],Object.getOwnPropertyDescriptor(Z.prototype,"meDetail"),Z.prototype),Object(Lt.a)(Z.prototype,"userId",[Ut.e],Object.getOwnPropertyDescriptor(Z.prototype,"userId"),Z.prototype),Object(Lt.a)(Z.prototype,"userInfo",[Ut.e],Object.getOwnPropertyDescriptor(Z.prototype,"userInfo"),Z.prototype),Object(Lt.a)(Z.prototype,"logout",[Ut.d],Object.getOwnPropertyDescriptor(Z.prototype,"logout"),Z.prototype),Object(Lt.a)(Z.prototype,"postLogin",[Ut.d],Object.getOwnPropertyDescriptor(Z.prototype,"postLogin"),Z.prototype),Object(Lt.a)(Z.prototype,"postRegister",[Ut.d],Object.getOwnPropertyDescriptor(Z.prototype,"postRegister"),Z.prototype),Object(Lt.a)(Z.prototype,"postChangePassword",[Ut.d],Object.getOwnPropertyDescriptor(Z.prototype,"postChangePassword"),Z.prototype),Z),$t=function(){return Be.mixed().transform(function(e){return e?c()(e).format(Jt):null})},Xt=Be.object({date_from:$t().required(),date_to:$t().required(),holiday_type_id:Be.number().required(),description:Be.string().required()}),Qt=Object(w.b)("holidayStore","mainStore")(K=Object(w.c)(K=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).columns=[],n.handleSubmit=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.holidayStore.put(Xt.cast(t)).then(function(){return r.setSubmitting(!1)});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.handleAdd=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.holidayStore.post(Xt.cast(t)).then(function(){r.setSubmitting(!1),r.resetForm()});case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.props.holidayStore.fetchAll().then(function(){n.setState({loading:!1})}),n.state={loading:!0},n.columns=[{id:"date_from",numeric:!1,label:"Datum Start",format:function(e){return n.props.mainStore.formatDate(e.date_from)}},{id:"date_to",numeric:!1,label:"Datum Ende",format:function(e){return n.props.mainStore.formatDate(e.date_to)}},{id:"holiday_type_id",numeric:!1,label:"Type"},{id:"description",numeric:!1,label:"Beschreibung"},{id:"save",numeric:!1,label:""},{id:"delete",numeric:!1,label:""}],n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.holidayStore.entities,n=this.props.holidayStore;return l.createElement(jt,{loading:this.state.loading,title:"Freitage",card:!0},l.createElement(Nt.a,null,l.createElement("thead",null,l.createElement("tr",null,this.columns.map(function(e){return l.createElement("th",{key:e.id},e.label)}))),l.createElement("tbody",null,l.createElement(Pe.b,{validationSchema:Xt,initialValues:{date_from:c()().format("Y-MM-DD"),date_to:c()().format("Y-MM-DD"),holiday_type_id:2,description:""},onSubmit:this.handleAdd,render:function(e){return l.createElement("tr",null,l.createElement("td",null,l.createElement(pt,{component:It,name:"date_from"})),l.createElement("td",null,l.createElement(pt,{component:It,name:"date_to"})),l.createElement("td",null,l.createElement(pt,{component:lt,name:"holiday_type_id",options:[{id:"1",name:"Betriebsferien"},{id:"2",name:"Feiertag"}]})),l.createElement("td",null,l.createElement(pt,{component:ct,name:"description"})),l.createElement("td",null,l.createElement(qe.a,{color:"success",disabled:e.isSubmitting,onClick:e.submitForm},"Hinzuf\xfcgen")),l.createElement("td",null))}}),t.map(function(t){return l.createElement(Pe.b,{key:t.id,validationSchema:Xt,initialValues:t,onSubmit:e.handleSubmit,render:function(e){return l.createElement("tr",null,l.createElement("td",null,l.createElement(pt,{component:It,name:"date_from"})),l.createElement("td",null,l.createElement(pt,{component:It,name:"date_to"})),l.createElement("td",null,l.createElement(pt,{component:lt,name:"holiday_type_id",options:[{id:"1",name:"Betriebsferien"},{id:"2",name:"Feiertag"}]})),l.createElement("td",null,l.createElement(pt,{component:ct,name:"description"})),l.createElement("td",null,l.createElement(qe.a,{color:"success",disabled:e.isSubmitting,onClick:e.submitForm},"Speichern")),l.createElement("td",null,l.createElement(qe.a,{color:"danger",disabled:e.isSubmitting,onClick:function(){n.delete(t.id)}},"L\xf6schen")))}})}))))}}]),t}(l.Component))||K)||K,en=n(307),tn=n.n(en),nn=n(149),rn=n.n(nn),an=Object(w.b)("apiStore")(J=Object(w.c)(J=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.createElement(jt,{className:e.page,card:!0,showBackgroundImage:!0},l.createElement(tn.a,null,l.createElement("span",{style:{fontSize:"3rem",fontWeight:"bold"}},"iZivi")," ist ein Tool der SWO zur Erfassung und Planung von Zivildienst-Eins\xe4tzen"),l.createElement(rn.a,null,"Seit 1996 k\xf6nnen Milit\xe4rpflichtige, die den Milit\xe4rdienst aus Gewissensgr\xfcnden ablehnen, einen zivilen Ersatzdienst leisten. Die SWO hat den Zivildienst mitgestaltet und bietet Zivildienstleistenden eine Vielzahl von sinnvollen Einsatzm\xf6glichkeiten zugunsten einer nachhaltigen Entwicklung."),this.props.apiStore.isLoggedIn||l.createElement(l.Fragment,null,l.createElement(rn.a,null,"Bist du das erste Mal bei uns und m\xf6chtest einen Einsatz planen? Dann kannst du dich \xfcber folgenden Link"," ",l.createElement(S.a,{to:"/register"},"registrieren")),l.createElement(rn.a,null,"Falls du uns bereits bekannt bist, kannst du dich hier ",l.createElement(S.a,{to:"/login"},"anmelden"))))}}]),t}(l.Component))||J)||J,on=d()(function(e){return L({page:{"& p":{textAlign:"justify"},"& ul":{paddingLeft:2*e.layout.baseSpacing,paddingRight:2*e.layout.baseSpacing,textAlign:"justify"}}})})(an),sn=Be.object({email:Be.string().email().required(),password:Be.string().required()}),cn={email:"",password:""},ln=Object(w.b)("apiStore","mainStore")(G=Object(w.c)(G=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).login=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.apiStore.postLogin(t);case 3:n.props.history.push(n.getReferrer()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.error.toString().includes("400")?n.props.mainStore.displayError("Ung\xfcltiger Benutzername/Passwort"):n.props.mainStore.displayError("Ein interner Fehler ist aufgetreten. Bitte versuchen Sie es sp\xe4ter erneut.");case 10:return e.prev=10,r.setSubmitting(!1),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,6,10,13]])}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"getReferrer",value:function(){var e=this.props.location,t=e.state,n=e.search;if(t&&t.referrer)return t.referrer;var r=new URLSearchParams(n),a=this.props.apiStore;if(r.has("path")){var i=r.get("path");return i&&i.startsWith("/login")&&(i=a.isAdmin?"/":"/profile"),i}return a.isAdmin?"/":"/profile"}},{key:"render",value:function(){return l.createElement(jt,{card:!0,showBackgroundImage:!0},l.createElement(Pe.b,{initialValues:cn,validationSchema:sn,onSubmit:this.login,render:function(e){return l.createElement(zt.a,{onSubmit:e.handleSubmit},l.createElement("h2",{className:"form-signin-heading"},"Anmelden"),l.createElement(pt,{component:ct,name:"email",label:"Email",placeholder:"zivi@example.org"}),l.createElement(pt,{component:st,name:"password",label:"Passwort",placeholder:"****"}),l.createElement(qe.a,{color:"primary",disabled:e.isSubmitting,onClick:e.submitForm},"Anmelden"))}}),l.createElement("p",null,l.createElement(S.a,{to:"/forgotPassword"},"Passwort vergessen?")))}}]),t}(l.Component))||G)||G,un=n(143),pn=n.n(un),mn=n(52),dn=n.n(mn),hn=d()(function(){return L({noselect:{userSelect:"none"}})})(function(e){var t=e.value,n=e.onChange,r=e.name,a=e.horizontal,i=e.label,o=e.required,s=e.errorMessage,c=e.classes,u=e.className,p=Boolean(s);return l.createElement(He.a,{check:!a,row:a},i&&l.createElement(Qe.a,{className:c.noselect,check:!a,for:r,md:a?3:void 0},a&&i,!a&&l.createElement(l.Fragment,null,l.createElement(Ue.a,{id:r,checked:t,onChange:function(){return n(!t)},invalid:p,type:"checkbox"})," ",i," ",o&&"*")),a&&l.createElement(We.a,{md:9},l.createElement(He.a,{check:!0},l.createElement(Qe.a,{className:c.noselect,check:!0},l.createElement(Ue.a,{id:r,checked:t,onChange:function(){return n(!t)},invalid:p,type:"checkbox"})))),!a&&!i&&l.createElement(Ue.a,{className:"position-static "+u,id:r,checked:t,onChange:function(){return n(!t)},invalid:p,type:"checkbox"}))});function fn(e){var t=e.classes;return l.createElement("tr",{className:"mission-row-"+e.specification_id},l.createElement("td",{className:t.shortName+" "+t.rowTd},e.shortName),l.createElement("td",{className:t.zdp+" "+t.rowTd},l.createElement("div",{className:"no-print"},e.zdp)),l.createElement("td",{className:t.namen+" "+t.rowTd},l.createElement("a",{href:"/users/"+e.user_id},e.userName)),e.cells)}var bn,gn,yn=Object(w.b)("missionStore","specificationStore")(bn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).cookiePrefixSpec="mission-overview-checkbox-",n.cookieYear="mission-overview-year",n.currYear=c()().year(),n.monthNames=["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],n.state={loadingMissions:!0,loadingSpecifications:!0,fetchYear:null==window.localStorage.getItem(n.cookieYear)?n.currYear.toString():window.localStorage.getItem(n.cookieYear),selectedSpecifications:new Map,monthHeaders:[],weekHeaders:[],totalCount:0,weekTotalHeaders:[],missionRows:new Map,weekCount:new Map},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.loadSpecifications(),this.loadMissions()}},{key:"scrollTableHeader",value:function(e){if(null!==e){var t=function(){var t=window.pageYOffset,n=e.getBoundingClientRect().top+window.pageYOffset;e.querySelector("thead").style.top=t>n?"".concat(t-n,"px"):"0"};document.addEventListener("scroll",t),t()}}},{key:"loadSpecifications",value:function(){var e=this;this.props.specificationStore.fetchAll().then(function(){var t=e.state.selectedSpecifications;e.props.specificationStore.entities.forEach(function(n){t[n.id]=null===window.localStorage.getItem(e.cookiePrefixSpec+n.id)||"true"===window.localStorage.getItem(e.cookiePrefixSpec+n.id)}),e.setState({selectedSpecifications:t,loadingSpecifications:!1})})}},{key:"loadMissions",value:function(){var e=this;this.props.missionStore.fetchByYear(this.state.fetchYear).then(function(){e.calculateMissionRows(),e.setState({loadingMissions:!1},function(){e.scrollTableHeader(document.querySelector("table"))})})}},{key:"changeSelectedSpecifications",value:function(e,t){var n=this,r=this.state.selectedSpecifications;r[t]=e,this.setState({selectedSpecifications:r},function(){return n.updateAverageHeaders()}),window.localStorage.setItem(this.cookiePrefixSpec+t,e.toString())}},{key:"selectYear",value:function(e){var t=this;window.localStorage.setItem(this.cookieYear,e),this.setState({loadingMissions:!0,fetchYear:e},function(){t.loadMissions()})}},{key:"calculateMissionRows",value:function(){for(var e=this,t=parseInt(this.state.fetchYear,10),n=this.props.classes,r=this.getEmptyWeekCount(),a=[],i=[],o=1;o<=52;o++)a[o]=c()(t+" "+o+" 1","YYYY WW E").format("DD.MM.YYYY"),i[o]=c()(t+" "+o+" 5","YYYY WW E").format("DD.MM.YYYY");var s=new Map,u=[];this.props.missionStore.entities.forEach(function(t){if(!u.includes(t.id)){var o=e.props.missionStore.entities.filter(function(e){return e.user_id===t.user_id&&e.specification_id===t.specification_id&&(u.push(e.id),!0)}),c=e.getMissionCells(a,i,o,r);s.set(t.id,l.createElement(fn,{key:"mission-row-"+t.id,shortName:t.specification.short_name,specification_id:t.specification_id,user_id:t.user_id,zdp:t.user.zdp,userName:t.user.first_name+" "+t.user.last_name,cells:c,classes:n}))}}),this.setState({weekCount:r,missionRows:s},function(){e.updateAverageHeaders(),e.setWeekAndMonthHeaders()})}},{key:"render",value:function(){var e=this,t=this.props.missionStore.entities.map(function(e){return e.specification_id}).filter(function(e,t,n){return t===n.indexOf(e)});t.sort();var n=this.props,r=n.classes,a=n.specificationStore;return l.createElement(jt,{loading:this.state.loadingSpecifications,title:"Einsatz\xfcbersicht",card:!0},l.createElement(pn.a,{fluid:!0},l.createElement(dn.a,{className:r.filter,style:{marginBottom:"2vh"}},l.createElement(We.a,{sm:"12",md:"2"},l.createElement("div",null,l.createElement(lt,{options:Array.from(Array(this.currYear-2003).keys()).map(function(e){return{id:(2005+e).toString(),name:(2005+e).toString()}}).reverse(),onChange:function(t){return e.selectYear(t.target.value)},value:this.state.fetchYear}))),l.createElement(We.a,{sm:"12",md:"8"},l.createElement("div",null,t.map(function(t){var n=a.entities.filter(function(e){return e.id===t})[0];return l.createElement(hn,{key:n.id,onChange:function(t){return e.changeSelectedSpecifications(t,n.id)},name:n.id.toString(),value:e.state.selectedSpecifications[n.id],label:n.name,horizontal:!1})}))),l.createElement(We.a,{sm:"12",md:"2"},l.createElement(qe.a,{onClick:function(){window.print()}},"Drucken"))),this.state.loadingMissions?l.createElement(Ot,null):l.createElement(dn.a,null,l.createElement(Nt.a,{responsive:!0,striped:!0,bordered:!0,className:"table-no-padding",id:"mission_overview_table"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("td",{colSpan:3,rowSpan:2,className:r.rowTd+" mo-name-header"},"Name"),this.state.monthHeaders),l.createElement("tr",null,this.state.weekHeaders),l.createElement("tr",null,l.createElement("td",{colSpan:3,style:{textAlign:"left",paddingLeft:"8px !important",fontWeight:"bold",whiteSpace:"nowrap"},className:r.rowTd},"\xd8 / Woche: ",(this.state.totalCount/52).toFixed(2)),this.state.weekTotalHeaders)),l.createElement("tbody",null,this.props.missionStore.entities.map(function(t){if(e.state.selectedSpecifications[t.specification_id])return e.state.missionRows.get(t.id)}))))))}},{key:"setWeekAndMonthHeaders",value:function(){for(var e=this.props.classes,t=[],n=[],r=0,a=c()().year(parseInt(this.state.fetchYear,10)).isoWeek(1).isoWeekday(1).toDate(),i=c()(a).isoWeekday(1).month(),o=1;o<=52;o++)t.push(l.createElement("td",{className:e.rowTd,key:o},o)),c()(a).isoWeekday(1).month()!==i&&(n.push(l.createElement("td",{className:e.rowTd,style:{fontWeight:"bold",maxWidth:25*r+"px",overflow:"hidden",wordWrap:"normal"},colSpan:r,key:"month_header_"+o},this.monthNames[i])),r=0,i=c()(a).month()),r++,a.setDate(a.getDate()+7);n.push(l.createElement("td",{className:e.rowTd,style:{fontWeight:"bold"},colSpan:r,key:this.monthNames.indexOf(this.monthNames[i])},this.monthNames[i])),this.setState({monthHeaders:n,weekHeaders:t})}},{key:"updateAverageHeaders",value:function(){for(var e=this,t=this.props.classes,n=[],r=0,a=function(a){var i=0;e.props.specificationStore.entities.forEach(function(t){e.state.selectedSpecifications[t.id]&&(i+=e.state.weekCount[t.id][a])}),n.push(l.createElement("td",{className:t.rowTd,key:a},i)),r+=i},i=1;i<=52;i++)a(i);this.setState({weekTotalHeaders:n,totalCount:r})}},{key:"getMissionCells",value:function(e,t,n,r){for(var a=[],i=this.props.classes,o=1;o<=52;o++){var s=e[o]+" - "+t[o],u=this.getActiveMissionInWeek(o,n);if(null==u)a.push(l.createElement("td",{key:o,title:s,className:i.rowTd},""));else{r[u.specification_id]&&r[u.specification_id][o]++;var p=null==u.draft?i.einsatzDraft:i.einsatz;if(this.isWeekStartWeek(o,u)){var m=c()(u.start).date().toString();a.push(l.createElement("td",{key:o,title:s,className:i.rowTd+" "+p},m))}else if(this.isWeekEndWeek(o,u)){var d=c()(u.end).date().toString();a.push(l.createElement("td",{key:o,title:s,className:i.rowTd+" "+p},d))}else a.push(l.createElement("td",{key:o,title:s,className:i.rowTd+" "+p},"x"))}}return a}},{key:"isWeekStartWeek",value:function(e,t){return e===this.getStartWeek(t)}},{key:"isWeekMiddleWeek",value:function(e,t){var n=this.getStartWeek(t),r=this.getEndWeek(t);return e>n&&e<r}},{key:"isWeekEndWeek",value:function(e,t){return e===this.getEndWeek(t)}},{key:"isWeekDuringMission",value:function(e,t){return this.isWeekStartWeek(e,t)||this.isWeekMiddleWeek(e,t)||this.isWeekEndWeek(e,t)}},{key:"getActiveMissionInWeek",value:function(e,t){var n=this,r=null;return t.forEach(function(t){n.isWeekDuringMission(e,t)&&(r=t)}),r}},{key:"getStartWeek",value:function(e){var t=c()(e.start).isoWeek();return c()(e.start).year()<parseInt(this.state.fetchYear,10)&&(t=-1),t}},{key:"getEndWeek",value:function(e){var t=c()(e.end).isoWeek();return c()(e.end).year()>parseInt(this.state.fetchYear,10)&&(t=55),t}},{key:"getEmptyWeekCount",value:function(){var e=new Map,t=!0,n=!1,r=void 0;try{for(var a,i=this.props.specificationStore.entities[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e[o.id]=[];for(var s=1;s<=52;s++)e[o.id][s]=0}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}}]),t}(l.Component))||bn,En=d()(function(){return L({rowTd:{padding:"5px 1px !important",fontSize:"14px",textAlign:"center",minWidth:"25px",composes:"mo-rowTd"},shortName:{minWidth:"40px",width:"40px",composes:"mo-shortname"},zdp:{minWidth:"100px",width:"100px",composes:"mo-zdp"},namen:{minWidth:"150px",width:"150px",textAlign:"left",composes:"mo-namen"},einsatzDraft:{background:"#fc9"},einsatz:{background:"#0c6",composes:"mo-einsatz"},filter:{composes:"mo-filter"},"@global":{"@media not print":{"thead, tbody":{display:"block"},thead:{position:"relative",top:"0px",backgroundColor:"white"},".mo-name-header":{width:"290px"}},"@media print":{".table td.einsatz":{},".table-no-padding":{},".mo-rowTd":{padding:"1px 1px 1px 1px !important",minWidth:"0px!important"},td:{fontSize:"6pt !important"},".mo-namen":{maxWidth:"65px",width:"65px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1px !important"},".mo-namen a":{color:"black!important",textDecoration:"none"},".mo-filter":{display:"none"},".no-print":{width:"0px",display:"none"},".mo-zdp":{width:"0px"},".mo-shortname":{width:"auto"},".mo-container":{padding:"0px!important",margin:"0px!important"}}}})})(yn),vn=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement(jt,{card:!0,showBackgroundImage:!0,title:"Seite nicht gefunden"},l.createElement("p",null,"Die angeforderte Seite konnte nicht gefunden werden. ",l.createElement(S.a,{to:"/"},"Hier")," geht es zur\xfcck zur Startseite."))}}]),t}(l.Component),On=n(606),kn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).ref=void 0,n.handleClick=function(e){var t=n.ref.current,r=Array.from(t.children);(e.target===t||r.find(function(t){return t===e.target}))&&n.props.onClick(e)},n.render=function(){var e=n.props,t=e.children,r=Object(Ye.a)(e,["children"]);return l.createElement("tr",Object.assign({ref:n.ref},r,{onClick:n.handleClick}),t)},n.ref=l.createRef(),n}return Object(O.a)(t,e),t}(l.Component);var jn,wn,Sn,_n,xn,zn,Dn,Fn,Cn,An,Nn,Pn,Tn,Mn,qn=Object(w.c)(gn=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).handleRowClick=function(e,t){return function(r){n.props.onClickRow&&n.props.onClickRow(e,t)}},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,r=t.data;return l.createElement(Nt.a,{responsive:!0},l.createElement("thead",null,l.createElement("tr",null,n.map(function(e){return l.createElement("th",{key:e.id},e.label)}),this.props.renderActions&&l.createElement("th",null))),l.createElement("tbody",null,this.props.firstRow&&l.createElement(l.Fragment,null,this.props.firstRow),r.map(function(t,r){return l.createElement(kn,{key:r,onClick:e.handleRowClick(t,r)},n.map(function(e){return l.createElement("td",{key:e.id},function(e,t){return e.format?e.format(t):t[e.id]}(e,t))}),e.props.renderActions&&l.createElement("td",null,l.createElement("span",{className:"actions"},e.props.renderActions(t))))})))}}]),t}(l.Component))||gn,Bn=n(28),Yn=Object(w.b)("mainStore","paymentStore","reportSheetStore")(jn=Object(w.c)(jn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={reportSheetState:n.props.paymentEntry.report_sheet.state},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"updateState",value:function(e,t){var n=this;this.props.reportSheetStore.putState(e,t).then(function(){return n.setState({reportSheetState:t})}).catch(function(e){throw n.props.mainStore.displayError("Der Eintrag konnte nicht aktualisiert werden."),n.setState({reportSheetState:-2}),e})}},{key:"render",value:function(){var e=this;switch(this.state.reportSheetState){case-2:return l.createElement(l.Fragment,null,l.createElement(qe.a,{onClick:function(){return e.updateState(e.props.paymentEntry.report_sheet.id,3)},color:"link",style:{margin:0,padding:0}},l.createElement(Bn.a,{icon:ge}))," ",l.createElement(Bn.a,{icon:be,title:"Fehler bei der \xdcbertragung."}));case-1:return l.createElement(Bn.a,{spin:!0,icon:ye});case 2:return l.createElement(qe.a,{onClick:function(){return e.updateState(e.props.paymentEntry.report_sheet.id,3)},color:"link",style:{margin:0,padding:0}},l.createElement(Bn.a,{icon:ge}));case 3:return l.createElement(Bn.a,{icon:fe});default:return l.createElement(Bn.a,{icon:be,title:"Ung\xfcltiger Zustand"})}}}]),t}(l.Component))||jn)||jn,In=Object(w.b)("mainStore","paymentStore")(wn=Object(w.c)(wn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).columns=void 0,e.paymentStore.fetchOne(Number(e.match.params.id)).then(function(){return n.setState({loading:!1})}),n.columns=[{id:"zdp",label:"ZDP",format:function(e){return e.user.zdp}},{id:"full_name",label:"Name",format:function(e){return"".concat(e.user.first_name," ").concat(e.user.last_name)}},{id:"iban",label:"IBAN",format:function(e){return e.user.bank_iban}},{id:"total_costs",label:"Betrag",format:function(e){return n.props.mainStore.formatCurrency(e.report_sheet.total_costs)}}],n.state={loading:!0},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.paymentStore.payment,t=e?"Auszahlung vom ".concat(this.props.mainStore.formatDate(e.created_at)):"Details zur Auszahlung ".concat(this.props.match.params.id);return l.createElement(jt,{card:!0,loading:this.state.loading,title:t},e&&l.createElement(l.Fragment,null,l.createElement(qe.a,{color:"primary",href:this.props.mainStore.apiURL("payments/"+e.id+"/xml"),tag:"a",target:"_blank"},"Zahlung.xml erneut herunterladen")," ",l.createElement("br",null)," ",l.createElement("br",null),l.createElement(qn,{columns:this.columns,data:this.props.paymentStore.payment.payment_entries,renderActions:function(e){return l.createElement(Yn,{paymentEntry:e})}})))}}]),t}(l.Component))||wn)||wn,Wn=Object(On.a)(In),Ln=Object(w.b)("mainStore","paymentStore","reportSheetStore")(Sn=Object(w.c)(Sn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).paymentColumns=void 0,n.reportSheetColumns=void 0,n.paymentColumns=[{id:"created_at",label:"Datum",format:function(e){return n.props.mainStore.formatDate(e.created_at)}},{id:"amount",label:"Betrag",format:function(e){return n.props.mainStore.formatCurrency(e.amount)}}],n.reportSheetColumns=[{id:"zdp",label:"ZDP",format:function(e){return e.user?e.user.zdp:""}},{id:"full_name",label:"Name",format:function(e){return e.user?"".concat(e.user.first_name," ").concat(e.user.last_name):""}},{id:"iban",label:"IBAN",format:function(e){return e.user?e.user.bank_iban:""}},{id:"total_costs",label:"Betrag",format:function(e){return n.props.mainStore.formatCurrency(e.total_costs)}},{id:"notices",label:"Bemerkungen",format:function(e){return l.createElement(l.Fragment,null,e.user&&(""===e.user.address||""===e.user.city||!e.user.zip)&&l.createElement(l.Fragment,null,l.createElement("p",null,"Adresse unvollst\xe4ndig!"),l.createElement("br",null)),!n.props.mainStore.validateIBAN(e.user?e.user.bank_iban:"")&&l.createElement(l.Fragment,null,l.createElement("p",null,"IBAN\xa0hat ein ung\xfcltiges Format!"),l.createElement("br",null)))}}],n.state={loading:!0},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([this.props.paymentStore.fetchAll(),this.props.reportSheetStore.fetchToBePaidAll()]).then(function(){e.setState({loading:!1})})}},{key:"render",value:function(){return l.createElement(jt,{card:!0,loading:this.state.loading,title:"Auszahlungen"},this.props.reportSheetStore.toBePaidReportSheets.length>0?l.createElement(l.Fragment,null,l.createElement(qn,{columns:this.reportSheetColumns,data:this.props.reportSheetStore.toBePaidReportSheets,renderActions:function(e){return l.createElement(S.a,{to:"/report_sheets/"+e.id},"Spesenblatt")}}),l.createElement(qe.a,{color:"primary"},"Zahlungsdatei generieren (TODO)")):"Keine Spesen zur Auszahlung bereit.",l.createElement("br",null),l.createElement("br",null),l.createElement("h1",null,"Archiv")," ",l.createElement("br",null),l.createElement(qn,{columns:this.paymentColumns,data:this.props.paymentStore.payments,renderActions:function(e){return l.createElement(l.Fragment,null,l.createElement(S.a,{to:"/payments/"+e.id},"Details"))}}))}}]),t}(l.Component))||Sn)||Sn,Rn=Be.object({date_from:$t().required(),date_to:$t().required()}),Vn=Object(w.b)("apiStore","mainStore")(_n=Object(w.c)(_n=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).handleSubmit=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){var a,i,o,s,c;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Kt,i=Rn.cast(t),o=n.props.apiStore.token,s="".concat(a,"documents/phone_list?start=").concat(i.date_from,"&end=").concat(i.date_to,"&token=").concat(o),(c=window.open(s,"_blank"))&&(r.setSubmitting(!1),c.focus());case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement(jt,{card:!0,title:"Telefonliste"},l.createElement("p",null,"Geben Sie ein Anfangsdatum und ein Enddatum ein um eine Telefonliste mit allen Zivis zu erhalten, die in diesem Zeitraum arbeiten."),l.createElement("br",null),l.createElement(Pe.b,{validationSchema:Rn,initialValues:{date_from:c()().date(0).format("Y-MM-DD"),date_to:c()().endOf("month").format("Y-MM-DD"),holiday_type:2,description:""},onSubmit:this.handleSubmit,render:function(e){return l.createElement(zt.a,null,l.createElement(dn.a,null,l.createElement(We.a,{xs:"12"},l.createElement(pt,{horizontal:!0,component:It,label:"Anfang",name:"date_from"}),l.createElement(pt,{horizontal:!0,component:It,label:"Ende",name:"date_to"}))),l.createElement(dn.a,null,l.createElement(We.a,{xs:{size:2,offset:10}},l.createElement(qe.a,{color:"success",onClick:e.submitForm,style:{width:"100%"}},"Laden"))))}}))}}]),t}(l.Component))||_n)||_n,Hn=Be.object({zdp:Be.number().required(),firstname:Be.string().required(),lastname:Be.string().required(),email:Be.string().email().required(),password:Be.string().required().min(7,"hi"),password_confirm:Be.string().required().test("passwords-match","Passw\xf6rter m\xfcssen \xfcbereinstimmen",function(e){return this.parent.password===e}),community_pw:Be.string().required()}),Zn={zdp:"",firstname:"",lastname:"",email:"",password:"",password_confirm:"",community_pw:"",newsletter:!0},Un=Object(w.b)("apiStore","mainStore")(xn=Object(w.c)(xn=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).login=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.apiStore.postRegister(t);case 3:n.props.history.push(n.getReferrer()),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.error.toString().includes("400")?n.props.mainStore.displayError("Ung\xfcltiger Benutzername/Passwort"):n.props.mainStore.displayError("Ein interner Fehler ist aufgetreten. Bitte versuchen Sie es sp\xe4ter erneut.");case 10:return e.prev=10,r.setSubmitting(!1),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,6,10,13]])}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"getReferrer",value:function(){var e=this.props.location,t=e.state,n=e.search;if(t&&t.referrer)return t.referrer;var r=new URLSearchParams(n),a=this.props.apiStore;if(r.has("path")){var i=r.get("path");return i&&i.startsWith("/login")&&(i=a.isAdmin?"/":"/profile"),i}return a.isAdmin?"/":"/profile"}},{key:"render",value:function(){return l.createElement(jt,{card:!0,showBackgroundImage:!0,title:"Registrieren"},l.createElement("div",null,l.createElement("p",null,"Als zuk\xfcnftiger Zivi musst du dich zuerst erkundigen, ob zum gew\xfcnschten Zeitpunkt ein Einsatz m\xf6glich ist. Kontaktiere hierf\xfcr bitte direkt"," ",l.createElement("a",{href:"//stiftungswo.ch/about/meet-the-team#jumptomarc",target:"_blank",rel:"noopener noreferrer"}," ","Marc Pfeuti"," "),"(",l.createElement("a",{href:"tel:+41774385761"},"+41 77 438 57 61"),") unter"," ",l.createElement("a",{href:"mailto:zivildienst@stiftungswo.ch?subject=Einsatzplanung Zivildienst&body=Guten Tag Herr Pfeuti! %0D%0A%0D%0AIch schreibe Ihnen betreffend meiner Einsatzplanung als FELDZIVI / B\xdcROZIVI (EINS AUSW\xc4HLEN) vom DD.MM.YYYY bis DD.MM.YYYY, w\xe4re dieser Zeitraum m\xf6glich? %0D%0A%0D%0A %0D%0A%0D%0ABesten Dank und freundliche Gr\xfcsse"}," ","zivildienst@stiftungswo.ch"," "),"."),l.createElement("ul",null,l.createElement("li",null,"Nach Eingabe deiner pers\xf6nlichen Daten kannst du die Einsatzplanung ausdrucken, unterschreiben und an den Einsatzbetrieb zur\xfcckzuschicken. Nach erfolgreicher Pr\xfcfung werden wir diese direkt an dein zust\xe4ndiges Regionalzentrum weiterleiten. Das Aufgebot erh\xe4ltst du dann automatisch von deinem zust\xe4ndigen Regionalzentrum.")),l.createElement(pn.a,null,l.createElement("hr",null),l.createElement(Pe.b,{initialValues:Zn,validationSchema:Hn,onSubmit:this.login,render:function(e){return l.createElement(zt.a,{onSubmit:e.handleSubmit},l.createElement("h3",null,"Pers\xf6nliche Informationen"),l.createElement("br",null),l.createElement(pt,{horizontal:!0,component:ot,name:"zdp",label:"Zivildienstnummer (ZDP)",placeholder:"Dies ist deine Zivildienst-Nummer, welche du auf deinem Aufgebot wiederfindest"}),l.createElement(pt,{horizontal:!0,component:ct,name:"firstname",label:"Vorname",placeholder:"Dein Vorname"}),l.createElement(pt,{horizontal:!0,component:ct,name:"lastname",label:"Nachname",placeholder:"Dein Nachname"}),l.createElement(pt,{horizontal:!0,component:ct,name:"email",label:"Email",placeholder:"Wird f\xfcr das zuk\xfcnftige Login sowie das Versenden von Systemnachrichten ben\xf6tigt"}),l.createElement(pt,{horizontal:!0,component:st,name:"password",label:"Passwort (mind. 7 Zeichen)",placeholder:"Passwort mit mindestens 7 Zeichen"}),l.createElement(pt,{horizontal:!0,component:st,name:"password_confirm",label:"Passwort Best\xe4tigung",placeholder:"Wiederhole dein gew\xe4hltes Passwort"}),l.createElement(pt,{horizontal:!0,component:st,name:"community_pw",label:"Community Passwort",placeholder:"Dieses erh\xe4ltst du von der Einsatzleitung welche dich berechtigt einen Account zu er\xf6ffnen"}),l.createElement(pt,{horizontal:!0,component:hn,name:"newsletter",label:"Ja, ich m\xf6chte den SWO Newsletter erhalten"}),l.createElement(qe.a,{color:"primary",disabled:e.isSubmitting,onClick:e.submitForm},"Registrieren"),l.createElement("br",null))}}))))}}]),t}(l.Component))||xn)||xn,Kn=n(308),Jn=n.n(Kn),Gn=n(607),$n=n(608),Xn=n(90),Qn=n.n(Xn),er=n(91),tr=n.n(er),nr=n(92),rr=n.n(nr),ar=function(){for(var e=[],t=2005;t<c()().year()+3;t++)e.push({id:t,name:t});return e},ir=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.mainStore,r=e.toggle;return l.createElement(Qn.a,{isOpen:t},l.createElement(Gn.a,null,"Spesenstatistik erstellen"),l.createElement(Pe.b,{initialValues:{date_from:c()().startOf("year").format("Y-MM-DD"),date_to:c()().endOf("year").format("Y-MM-DD"),detail_view:!0,only_done_sheets:!0,time_type:"0",year:c()().year()},onSubmit:function(){},render:function(e){return l.createElement(l.Fragment,null,l.createElement(tr.a,null,l.createElement(pt,{horizontal:!0,component:lt,name:"time_type",options:[{id:"0",name:"Gesamtes Jahr"},{id:"1",name:"Von /\xa0Bis"},{id:"2",name:c()().format("MMMM\xa0YYYY")},{id:"3",name:c()().subtract(1,"month").format("MMMM\xa0YYYY")}],label:"Zeitspanne"}),"0"===e.values.time_type&&l.createElement(pt,{horizontal:!0,component:lt,name:"year",options:ar(),label:"Jahr"}),"1"===e.values.time_type&&l.createElement(l.Fragment,null,l.createElement(pt,{horizontal:!0,component:It,name:"date_from",label:"Start"}),l.createElement(pt,{horizontal:!0,component:It,name:"date_to",label:"Ende"})),l.createElement(pt,{component:hn,name:"only_done_sheets",label:"Nur erledigte Spesenbl\xe4tter anzeigen?"}),l.createElement(pt,{component:hn,name:"detail_view",label:"Detaillierte Ansicht anzeigen?"})),l.createElement(rr.a,null,l.createElement($n.a,{href:n.apiURL("documents/expenses_overview",e.values),tag:"a",target:"_blank"},"PDF generieren")," ",l.createElement($n.a,{color:"danger",onClick:r},"Abbrechen")))}}))}}]),t}(l.Component),or=Object(w.b)("mainStore","reportSheetStore")(zn=Object(w.c)(zn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).columns=void 0,n.loadContent=function(){n.props.reportSheetStore.fetchAll({state:n.state.reportSheetStateFilter}).then(function(){return n.setState({loading:!1})})},n.updateSheetFilter=function(e){n.setState({loading:!0,reportSheetStateFilter:e},function(){return n.loadContent()})},n.columns=[{id:"zdp",label:"ZDP"},{id:"first_name",label:"Name",format:function(e){return"".concat(e.first_name," ").concat(e.last_name)}},{id:"start",label:"Von",format:function(e){return n.props.mainStore.formatDate(e.start)}},{id:"end",label:"Bis",format:function(e){return n.props.mainStore.formatDate(e.end)}}],n.state={loading:!0,modalOpen:!1,reportSheetStateFilter:"pending"},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.loadContent()}},{key:"render",value:function(){var e=this;return l.createElement(jt,{card:!0,loading:this.state.loading,title:"Spesen"},l.createElement(qe.a,{outline:!0,onClick:function(){return e.toggle()}},"Spesenstatistik generieren")," ",l.createElement("br",null)," ",l.createElement("br",null),l.createElement(Jn.a,null,l.createElement(qe.a,{outline:null!==this.state.reportSheetStateFilter,color:null===this.state.reportSheetStateFilter?"primary":"secondary",onClick:function(){return e.updateSheetFilter(null)}},"Alle Spesenbl\xe4tter"),l.createElement(qe.a,{outline:"pending"!==this.state.reportSheetStateFilter,color:"pending"===this.state.reportSheetStateFilter?"primary":"secondary",onClick:function(){return e.updateSheetFilter("pending")}},"Pendente Spesenbl\xe4tter"),l.createElement(qe.a,{outline:"current"!==this.state.reportSheetStateFilter,color:"current"===this.state.reportSheetStateFilter?"primary":"secondary",onClick:function(){return e.updateSheetFilter("current")}},"Aktuelle Spesenbl\xe4tter")),l.createElement(ir,{isOpen:this.state.modalOpen,mainStore:this.props.mainStore,toggle:function(){return e.toggle()}}),l.createElement("br",null)," ",l.createElement("br",null),l.createElement(qn,{columns:this.columns,data:this.props.reportSheetStore.reportSheets,renderActions:function(e){return l.createElement(S.a,{to:"/report_sheets/"+e.id},"Spesenblatt bearbeiten")}}))}},{key:"toggle",value:function(){this.setState({modalOpen:!this.state.modalOpen})}}]),t}(l.Component))||zn)||zn,sr=n(40),cr=n(313),lr=at,ur=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={representation:""},n.handleChange=function(e){var t=e.target.value;n.setState({representation:t}),""===t?n.props.onChange(null):n.props.onChange(n.props.toValue(t))},n.render=function(){var e=n.props,t=(e.toValue,e.toString,Object(Ye.a)(e,["toValue","toString"]));return l.createElement(lr,Object.assign({},t,{value:n.state.representation,onChange:n.handleChange}))},n.state.representation=n.format,n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"format",get:function(){return null===this.props.value||void 0===this.props.value?"":this.props.toString(this.props.value)}}]),t}(l.Component),pr=function(e){return(e/100).toFixed(2)},mr=function(e){return Math.round(100*Number(e))},dr=function(e){var t=["CHF"].concat(Object(cr.a)(e.appendedLabels||[]));return l.createElement(ur,Object.assign({},e,{toString:pr,toValue:mr,type:"number",appendedLabels:t}))},hr=n(609),fr=Object(w.b)("mainStore")(Dn=Object(w.c)(Dn=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){!e.isSubmitting||this.props.isSubmitting||this.props.isValid||this.props.mainStore.displayError("Die Daten konnten nicht gespeichert werden, da das Formular ung\xfcltige Angaben enth\xe4lt.")}},{key:"render",value:function(){return l.createElement(l.Fragment,null,this.props.children)}}]),t}(l.Component))||Dn)||Dn,br=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).handleSubmit=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.onSubmit(n.props.validationSchema.cast(t));case 3:return e.prev=3,r.setSubmitting(!1),e.finish(3);case 6:case"end":return e.stop()}},e,null,[[0,,3,6]])}));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.title,a=t.children,i=Object(Ye.a)(t,["loading","title","children"]);return this.props.loading?l.createElement(l.Fragment,null,l.createElement(jt,{card:this.props.card,loading:n,title:r},l.createElement("br",null))):l.createElement(jt,{card:this.props.card,title:r},l.createElement(Pe.b,Object.assign({},i,{onSubmit:this.handleSubmit,render:function(t){return l.createElement(fr,t,l.createElement(hr.a,{when:!e.props.submitted&&t.dirty,message:function(){return"\xc4nderungen verwerfen?"}}),e.props.render(t))}})),a)}}]),t}(l.Component),gr=d()(function(){return L({hr:{borderTop:"solid 2px #286090"}})})(function(e){return l.createElement("hr",{className:e.classes.hr})}),yr=n(183),Er=n.n(yr),vr=function(e){return!e||0===e.length},Or="Das Total der Tage muss gleich der Spesenblattdauer sein.",kr=Be.object({additional_workfree:Be.number().required().test("test-total-days",Or,function(){return jr(this.parent)}),additional_workfree_comment:Be.string().nullable(!0),bank_account_number:Be.string().required(),clothes:Be.number().required(),clothes_comment:Be.string().nullable(!0),company_holiday_holiday:Be.number().required().test("test-total-days",Or,function(){return jr(this.parent)}),company_holiday_vacation:Be.number().required().test("test-total-days",Or,function(){return jr(this.parent)}),document_number:Be.number().nullable(!0),driving_charges:Be.number().required(),driving_charges_comment:Be.string().nullable(!0),end:$t().required(),extraordinarily:Be.number().required(),extraordinarily_comment:Be.string().nullable(!0),holiday:Be.number().required().test("test-total-days",Or,function(){return jr(this.parent)}),holiday_comment:Be.string().nullable(!0),ignore_first_last_day:Be.boolean(),ill:Be.number().required().test("test-total-days",Or,function(){return jr(this.parent)}),ill_comment:Be.string().nullable(!0),start:$t().required(),state:Be.number().required(),vacation:Be.number().required().test("test-total-days",Or,function(){return jr(this.parent)}),vacation_comment:Be.string().nullable(!0),work:Be.number().required().test("test-total-days",Or,function(){return jr(this.parent)}),workfree:Be.number().required().test("test-total-days",Or,function(){return jr(this.parent)}),safe_override:Be.bool()}),jr=function(e){if(e.safe_override)return!0;var t=c.a.duration(c()(e.end).diff(c()(e.start))).asDays()+1,n=0;return n+=e.work+e.workfree+e.additional_workfree+e.ill,n+=e.holiday+e.vacation,(n+=e.company_holiday_holiday+e.company_holiday_vacation)===t},wr=Object(w.b)("mainStore","reportSheetStore")(Fn=Object(w.c)(Fn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={safeOverride:!1},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.mainStore,r=t.onSubmit,a=t.reportSheet,i=t.reportSheetStore,o=t.title,s=Object(sr.a)({safe_override:!1},a);return l.createElement(br,{card:!0,loading:vr(a)||this.props.loading,initialValues:s,onSubmit:function(e){var t=Object(sr.a)({},e);return r(t)},title:o,validationSchema:kr,render:function(t){return l.createElement(zt.a,null,l.createElement(pt,{disabled:!0,horizontal:!0,component:ct,name:"mission.specification.name",label:"Pflichtenheft"}),l.createElement(pt,{disabled:!0,horizontal:!0,component:It,name:"mission.start",label:"Beginn Einsatz"}),l.createElement(pt,{disabled:!0,horizontal:!0,component:It,name:"mission.end",label:"Ende Einsatz"}),l.createElement(pt,{horizontal:!0,component:It,name:"start",label:"Start Spesenblattperiode"}),l.createElement(pt,{horizontal:!0,component:It,name:"end",label:"Ende Spesenblattperiode"}),l.createElement(pt,{disabled:!0,horizontal:!0,component:ot,name:"mission.eligible_holiday",label:"Ferienanspruch f\xfcr Einsatz"}),l.createElement(pt,{disabled:!0,horizontal:!0,component:ot,name:"duration",label:"Dauer Spesenblattperiode"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,appendedLabels:["Vorschlag: ".concat(a.proposed_values.workdays," Tage")],component:ot,name:"work",label:"Gearbeitet"}),l.createElement(pt,{horizontal:!0,appendedLabels:["Vorschlag: ".concat(a.proposed_values.work_free_days," Tage")],component:ot,name:"workfree",label:"Arbeitsfrei"}),l.createElement(pt,{horizontal:!0,appendedLabels:["\xdcbriges Guthaben: ".concat(a.proposed_values.illness_days_left," Tage")],component:ot,name:"ill",label:"Krank"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,component:ot,name:"additional_workfree",label:"Zus\xe4tzlich arbeitsfrei"}),l.createElement(pt,{horizontal:!0,component:ct,name:"additional_workfree_comment",label:"Bemerkung"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,appendedLabels:["Vorschlag: ".concat(a.proposed_values.company_holidays_as_zivi_vacations," Tage")],component:ot,name:"company_holiday_vacation",label:"Betriebsferien (Urlaub)"}),l.createElement(pt,{horizontal:!0,appendedLabels:["Vorschlag: ".concat(a.proposed_values.company_holidays_as_zivi_holidays," Tage")],component:ot,name:"company_holiday_holiday",label:"Betriebsferien (Ferien)"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,component:ot,name:"vacation",label:"Ferien"}),l.createElement(pt,{horizontal:!0,component:ct,name:"vacation_comment",label:"Bemerkung"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,component:ot,name:"holiday",label:"Pers\xf6nlicher Urlaub"}),l.createElement(pt,{horizontal:!0,component:ct,name:"holiday_comment",label:"Bemerkung"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,appendedLabels:["Vorschlag: ".concat(a.proposed_values.costs_clothes," CHF")],component:dr,name:"clothes",label:"Kleiderspesen"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,component:ot,name:"driving_charges",label:"Fahrspesen"}),l.createElement(pt,{horizontal:!0,component:ct,name:"driving_charges_comment",label:"Bemerkung"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,component:ot,name:"extraordinarily",label:"Ausserordentliche Spesen"}),l.createElement(pt,{horizontal:!0,component:ct,name:"extraordinarily_comment",label:"Bemerkung"}),l.createElement(gr,null),l.createElement(pt,{horizontal:!0,component:hn,name:"ignore_first_last_day",label:"Erster /\xa0Letzter Tag nicht speziell behandeln"}),l.createElement(pt,{disabled:!0,horizontal:!0,component:dr,name:"total_costs",label:"Total"}),l.createElement(pt,{horizontal:!0,component:ct,name:"bank_account_number",label:"Konto-Nr."}),l.createElement(pt,{horizontal:!0,component:ot,name:"document_number",label:"Beleg-Nr."}),l.createElement(pt,{horizontal:!0,component:lt,name:"state",options:[{id:"0",name:"Offen"},{id:"1",name:"Bereit f\xfcr Auszahlung"},{id:"2",name:"Auszahlung in Verarbeitung"},{id:"3",name:"Erledigt"}],label:"Status"}),l.createElement(gr,null),l.createElement(dn.a,null,e.state.safeOverride?l.createElement(We.a,{md:3},l.createElement(qe.a,{block:!0,color:"primary",onClick:function(){t.setFieldValue("safe_override",!0),t.validateForm().then(function(){t.submitForm()})}},"Speichern erzwingen")):l.createElement(We.a,{md:3},l.createElement(qe.a,{block:!0,color:"primary",onClick:function(){t.submitForm(),t.isValid||e.setState({safeOverride:!0})}},"Speichern")),l.createElement(We.a,{md:3},l.createElement(qe.a,{block:!0,color:"danger",onClick:Object(Ne.a)(Ae.a.mark(function t(){return Ae.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.delete(a.id);case 2:e.props.history.push("/report_sheets");case 3:case"end":return t.stop()}},t)}))},"L\xf6schen")),l.createElement(We.a,{md:3},l.createElement(qe.a,{block:!0,color:"warning",disabled:!a.id,href:n.apiURL("report_sheets/"+String(a.id)+"/download"),tag:"a",target:"_blank"},"Drucken")),l.createElement(We.a,{md:3},l.createElement(qe.a,{block:!0},"Profil anzeigen (TODO)"))))}})}}]),t}(l.Component))||Fn)||Fn,Sr=Object(On.a)(wr),_r=Object(w.b)("reportSheetStore")(Cn=Object(w.c)(Cn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).handleSubmit=function(e){return n.props.reportSheetStore.put(e)},e.reportSheetStore.fetchOne(Number(e.match.params.id)),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.reportSheet;return l.createElement(Sr,{onSubmit:this.handleSubmit,reportSheet:e,title:e?e.user?"Spesenblatt von ".concat(e.user.first_name," ").concat(e.user.last_name," bearbeiten"):"Spesenbaltt bearbeiten":"Spesenblatt wird geladen"})}},{key:"reportSheet",get:function(){var e=this.props.reportSheetStore.reportSheet;return e?Object(Ut.p)(e):void 0}}]),t}(l.Component))||Cn)||Cn,xr=n(144),zr=n.n(xr),Dr=function(){return L({smallFontSize:{fontSize:"14px"},inputs:{composes:"$smallFontSize",padding:"3px 6px !important",width:"auto !important"},rowTd:{composes:"$smallFontSize",padding:"5px 2px !important",verticalAlign:"top"},th:{composes:"$smallFontSize",padding:"10px 8px !important",whiteSpace:"nowrap"},secondTh:{composes:"$smallFontSize $th",fontWeight:400,whiteSpace:"nowrap"},buttonsTd:{composes:"$inputs",padding:"5px !important"},checkboxes:{composes:"$inputs",marginLeft:"0px !important",marginTop:"0.75rem"}})},Fr=Be.object({id:Be.string().matches(/[0-9_]+/,"Die ID muss aus Zahlen und Bodenstrichen bestehen.").required(),name:Be.string().required(),short_name:Be.string().required(),working_clothes_expense:Be.number().required(),working_breakfast_expenses:Be.number().required(),working_lunch_expenses:Be.number().required(),working_dinner_expenses:Be.number().required(),sparetime_breakfast_expenses:Be.number().required(),sparetime_lunch_expenses:Be.number().required(),sparetime_dinner_expenses:Be.number().required(),firstday_breakfast_expenses:Be.number().required(),firstday_lunch_expenses:Be.number().required(),firstday_dinner_expenses:Be.number().required(),lastday_breakfast_expenses:Be.number().required(),lastday_lunch_expenses:Be.number().required(),lastday_dinner_expenses:Be.number().required(),working_time_model:Be.number().required(),accommodation:Be.number().required(),working_clothes_payment:Be.string(),working_time_weekly:Be.string(),pocket:Be.number().required(),active:Be.boolean()}),Cr=Object(w.b)("specificationStore","mainStore")(An=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).columns=[],n.handleThTooltip=function(e,t){var r=n.state.openThTooltips;r[e][t]=!r[e][t]||!r[e][t],n.setState({openThTooltips:r})},n.handleSubmit=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.specificationStore.put(Fr.cast(t)).then(function(){return r.setSubmitting(!1)});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.handleAdd=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.specificationStore.post(Fr.cast(t)).then(function(){r.setSubmitting(!1),r.resetForm()});case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.props.specificationStore.fetchAll().then(function(){n.setState({loading:!1})}),n.state={loading:!0,openThTooltips:[[],[]]},n.columns[0]=[{label:"Aktiv",span:{row:2}},{label:"ID",span:{row:2}},{label:"Name",span:{row:2}},{label:"KN",tooltip:"Kurz-Name",span:{row:2}},{label:"Taschengeld",span:{row:2}},{label:"Unterkunft",span:{row:2}},{label:"Kleider",span:{row:2}},{label:"Fr\xfchst\xfcck",span:{col:4}},{label:"Mittagessen",span:{col:4}},{label:"Abendessen",span:{col:6}}],n.columns[1]=[{label:"Erster Tag"},{label:"Arbeit"},{label:"Frei"},{label:"Letzter Tag"},{label:"Erster Tag"},{label:"Arbeit"},{label:"Frei"},{label:"Letzter Tag"},{label:"Erster Tag"},{label:"Arbeit"},{label:"Frei"},{label:"Letzter Tag"},{label:"",span:{col:2}}],n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.specificationStore.entities,n=this.props,r=n.classes,a=n.specificationStore,i=this.state.openThTooltips;return l.createElement(jt,{loading:this.state.loading,title:"Pflichtenheft",card:!0},l.createElement(Nt.a,{hover:!0,responsive:!0},l.createElement("thead",null,this.columns.map(function(t,n){var a=0===n?r.th:r.secondTh;return l.createElement("tr",{key:n}," ",t.map(function(t,r){var o=l.createElement(l.Fragment,null,t.label);return t.tooltip&&(o=l.createElement(l.Fragment,null,l.createElement("div",{id:"thTooltips"+r},t.label),l.createElement(zr.a,{placement:"bottom",target:"thTooltips"+r,isOpen:i[n]&&i[n][r]||!1,toggle:function(){return e.handleThTooltip(r,n)}},t.tooltip))),l.createElement("th",{className:a,key:t.label,rowSpan:t.span&&t.span.row||1,colSpan:t.span&&t.span.col||1},o)}))})),l.createElement("tbody",null,l.createElement(Pe.b,{validationSchema:Fr,initialValues:{id:"",name:"",short_name:"",accommodation:0,active:!1,firstday_breakfast_expenses:0,firstday_dinner_expenses:0,firstday_lunch_expenses:0,lastday_breakfast_expenses:0,lastday_dinner_expenses:0,lastday_lunch_expenses:0,pocket:0,sparetime_breakfast_expenses:0,sparetime_dinner_expenses:0,sparetime_lunch_expenses:0,working_breakfast_expenses:0,working_clothes_expense:0,working_clothes_payment:"",working_dinner_expenses:0,working_lunch_expenses:0,working_time_model:0,working_time_weekly:""},onSubmit:this.handleAdd,render:function(t){return l.createElement("tr",null,l.createElement(Ar,e.props),l.createElement("td",{className:r.buttonsTd},l.createElement(qe.a,{className:r.smallFontSize,color:"success",disabled:t.isSubmitting,onClick:t.submitForm},l.createElement(Bn.a,{icon:ke}))),l.createElement("td",null))}}),t.map(function(t){return l.createElement(Pe.b,{key:t.id,validationSchema:Fr,initialValues:t,onSubmit:e.handleSubmit,render:function(n){return l.createElement("tr",null,l.createElement(Ar,e.props),l.createElement("td",{className:r.buttonsTd},l.createElement(qe.a,{className:r.smallFontSize,color:"success",disabled:n.isSubmitting,onClick:n.submitForm},l.createElement(Bn.a,{icon:_e}))),l.createElement("td",{className:r.buttonsTd},l.createElement(qe.a,{className:r.smallFontSize,color:"danger",disabled:n.isSubmitting,onClick:function(){a.delete(t.id)}},l.createElement(Bn.a,{icon:je}))))}})}))))}}]),t}(l.Component))||An,Ar=function(e){var t=e.classes;return l.createElement(l.Fragment,null,l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.checkboxes,component:hn,name:"active"})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"id",size:3})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"name",size:20})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"short_name",size:1})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"pocket",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"accommodation",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"working_clothes_expense",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"firstday_breakfast_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"working_breakfast_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"sparetime_breakfast_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"lastday_breakfast_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"firstday_breakfast_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"working_breakfast_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"sparetime_breakfast_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"lastday_breakfast_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"firstday_dinner_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"working_dinner_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"sparetime_dinner_expenses",size:5})),l.createElement("td",{className:t.rowTd},l.createElement(pt,{className:t.inputs,component:ct,name:"lastday_dinner_expenses",size:5})))},Nr=d()(Dr)(Cr),Pr=n(309),Tr=n.n(Pr),Mr=n(310),qr=n.n(Mr),Br=n(59),Yr=n.n(Br),Ir=function(e){var t=e.children;return l.createElement(l.Fragment,null,l.createElement(Yr.a,{multi:!0,style:{height:"1.5rem",fontSize:"1.25rem"}},t),l.createElement("br",null))},Wr=function(e){var t=e.question,n=e.opt1,r=e.opt2;return l.createElement(l.Fragment,null,l.createElement("h5",null,t),n&&r&&l.createElement("p",null,"Von ",n," bis ",r))},Lr=function(e){return l.createElement(l.Fragment,null,l.createElement(Wr,{opt1:e.opt1,opt2:e.opt2,question:e.question}),l.createElement(Ur,e))},Rr=function(e){return l.createElement(l.Fragment,null,l.createElement(Wr,{question:e.question}),l.createElement(Ur,e))},Vr=function(e){var t=Object.keys(e.answers).map(function(t){return e.answers[t]});return l.createElement(l.Fragment,null,l.createElement(Wr,{question:e.question}),l.createElement(Tr.a,null,t.map(function(e,t){return l.createElement(qr.a,{key:t,style:{whiteSpace:"pre-wrap"}},e)})),l.createElement("br",null))},Hr=function(e){var t=Object.keys(e.answers).map(function(t){return e.answers[t]}).reduce(function(e,t){return e+t});return l.createElement(l.Fragment,null,l.createElement(Wr,{question:e.question}),l.createElement(Ir,null,l.createElement(Yr.a,{striped:!0,bar:!0,color:"success",value:e.answers[1]/t*100},"Nein (",e.answers[1],")"),l.createElement(Yr.a,{striped:!0,bar:!0,color:"danger",value:e.answers[2]/t*100},"Ja (",e.answers[2],")")))},Zr=function(e){var t=Object.keys(e.answers).map(function(t){return e.answers[t]}).reduce(function(e,t){return e+t}),n=JSON.parse(e.custom_info);return l.createElement(l.Fragment,null,l.createElement(Wr,{question:e.question}),Array.from(Array(5).keys()).map(function(r){return l.createElement(l.Fragment,{key:r},n.choices[String(r)].text,l.createElement(Yr.a,{striped:!0,color:"primary",value:e.answers[r+1]/t*100},e.answers[r+1]),l.createElement("br",null))}))},Ur=function(e){var t=e.answers,n=Object.keys(t).map(function(e){return t[e]}).reduce(function(e,t){return e+t});return l.createElement(l.Fragment,null,l.createElement(Ir,null,l.createElement(Yr.a,{striped:!0,bar:!0,color:"danger",value:t[1]/n*100},t[1]),l.createElement(Yr.a,{striped:!0,bar:!0,color:"warning",value:t[2]/n*100},t[2]),l.createElement(Yr.a,{striped:!0,bar:!0,color:"info",value:t[3]/n*100},t[3]),l.createElement(Yr.a,{striped:!0,bar:!0,color:"success",value:t[4]/n*100},t[4])),l.createElement("br",null))},Kr={date_from:c()().subtract(1,"year").format("YYYY-MM-DD"),date_to:c()().format("YYYY-MM-DD")},Jr=Object(w.b)("userFeedbackStore")(Nn=Object(w.c)(Nn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).updateData=function(e){n.setState({loading:!0},function(){n.props.userFeedbackStore.fetchAll(e).then(function(){return n.setState({loading:!1})})})},n.state={loading:!0},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.updateData(Kr)}},{key:"render",value:function(){var e=this;return l.createElement(jt,{card:!0,title:"Einsatzfeedbacks"},l.createElement(Pe.b,{initialValues:{date_from:c()().subtract(1,"year").toDate(),date_to:c()().toDate()},onSubmit:function(t){var n=c()(t.date_from).format("YYYY-MM-DD"),r=c()(t.date_to).format("YYYY-MM-DD");e.updateData({date_from:n,date_to:r})},render:function(e){var t=e.submitForm;return l.createElement(l.Fragment,null,l.createElement(pt,{horizontal:!0,component:Yt,name:"date_from",label:"Von"}),l.createElement(pt,{horizontal:!0,component:Yt,name:"date_to",label:"Bis"}),l.createElement("br",null),l.createElement(qe.a,{onClick:function(){return t()}},"Antworten aktualisieren"))}}),l.createElement(jt,{loading:this.state.loading}," ",l.createElement("br",null),this.props.userFeedbackStore.userFeedbacks.length>0&&this.props.userFeedbackStore.userFeedbacks.map(function(e){switch(e.type){case 1:return l.createElement(Lr,Object.assign({},e,{key:e.id}));case 2:return l.createElement(Wr,Object.assign({},e,{key:e.id}));case 3:return l.createElement(Rr,Object.assign({},e,{key:e.id}));case 4:return l.createElement(Vr,Object.assign({},e,{key:e.id}));case 5:return l.createElement(Hr,Object.assign({},e,{key:e.id}));case 6:return l.createElement(Zr,Object.assign({},e,{key:e.id}));default:return"Type ".concat(e.type," not yet covered")}})))}}]),t}(l.Component))||Nn)||Nn,Gr=n(610),$r=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement("div",null,"page")}}]),t}(l.Component),Xr=Object(w.b)("missionStore")(Pn=function(e){function t(e){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).call(this,e))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement(jt,{card:!0,loading:!1,title:"Feedback zu Einsatz abgeben"},l.createElement("div",null,l.createElement("small",null,l.createElement("strong",null,"Hinweis:")," Alle Fragen, welche mit (*) enden, sind erforderlich und m\xfcssen ausgef\xfcllt werden."),l.createElement(Gr.a,{max:7,value:1,className:"mt-3"})),l.createElement($r,null))}}]),t}(l.Component))||Pn,Qr=n(112),ea=n.n(Qr),ta=n(311),na=n.n(ta),ra=n(146),aa=n.n(ra),ia=Object(w.b)("specificationStore")(Tn=Object(w.c)(Tn=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=t.value,a=t.onChange,i=t.label,o=t.horizontal,s=t.required,c=function(){return u.a.createElement(Ue.a,{value:r,onChange:function(e){return a(e.target.value)},type:"select"},u.a.createElement("option",{value:""}),e.options.map(function(e){return u.a.createElement("option",{value:e.value,key:e.value},e.label)}))};return u.a.createElement(He.a,{row:o},u.a.createElement(Qe.a,{for:n,md:o?3:void 0},i," ",s&&"*"),o&&tt()(u.a.createElement(c,null)),!o&&u.a.createElement(c,null))}},{key:"options",get:function(){return this.props.specificationStore.entities.filter(function(e){return e.active}).map(function(e){return{value:e.id,label:e.name}})}}]),t}(u.a.Component))||Tn)||Tn,oa=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.formik,n=t.values,r=t.touched,a=t.errors,i=t.isSubmitting,o=e.formik,s=o.values,c=o.touched,l=o.errors,u=o.isSubmitting;e.formik!==this.props.formik&&this.props.onChange({values:n,touched:r,errors:a,isSubmitting:i},{values:s,touched:c,errors:l,isSubmitting:u},this.props.formik)}},{key:"render",value:function(){return null}}]),t}(u.a.Component),sa=Object(Pe.c)(oa),ca=Object(w.b)("missionStore","mainStore")(Mn=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).initialValues=void 0,n.autoUpdate=!0,n.updateDays=ea()(function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r,a){var i;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.autoUpdate=!1,e.next=3,n.props.missionStore.calcEligibleDays(c()(t).format(Jt),c()(r).format(Jt));case 3:(i=e.sent)&&a.setFieldValue("days",i),n.autoUpdate=!0;case 6:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),500),n.updateEnd=ea()(function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r,a){var i;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.autoUpdate=!1,e.next=3,n.props.missionStore.calcPossibleEndDate(c()(t).format(Jt),r);case 3:(i=e.sent)&&a.setFieldValue("end",i),n.autoUpdate=!0;case 6:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),500),n.handleMissionDateRangeChange=function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,r,a){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.autoUpdate){e.next=9;break}if(t.values.start===r.values.start&&t.values.end===r.values.end){e.next=5;break}if(!r.values.start||!r.values.end){e.next=5;break}return e.next=5,n.updateDays(r.values.start,r.values.end,a);case 5:if(t.values.start===r.values.start&&t.values.days===r.values.days){e.next=9;break}if(!r.values.start||!r.values.days){e.next=9;break}return e.next=9,n.updateEnd(r.values.start,r.values.days,a);case 9:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),n.initialValues=e.values||{specification_id:"",mission_type:0,start:null,end:null,days:0,first_time:!1,long_mission:!1,probation_period:!1,draft:null,eligible_holiday:0,feedback_done:!1,feedback_mail_sent:!1,user_id:e.user.id},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSubmit,r=t.onClose;return t.isOpen&&l.createElement(Pe.b,{onSubmit:n,initialValues:this.initialValues,render:function(t){return l.createElement(Qn.a,{isOpen:!0,toggle:r},l.createElement(aa.a,{toggle:r},"Zivildiensteinsatz"),l.createElement(tr.a,null,l.createElement(zt.a,null,l.createElement(na.a,{color:"info"},l.createElement("b",null,"Hinweis:")," Du kannst entweder das gew\xfcnschte Enddatum f\xfcr deinen Einsatz eingeben, und die anrechenbaren Einsatztage werden gerechnet, oder die gew\xfcnschten Einsatztage eingeben, und das Enddatum wird berechnet. In beiden F\xe4llen musst du das Startdatum bereits eingegeben haben."),l.createElement(pt,{horizontal:!0,component:ia,name:"specification_id",label:"Pflichtenheft"}),l.createElement(pt,{horizontal:!0,component:lt,name:"mission_type",label:"Einsatzart",options:[{id:0,name:""},{id:1,name:"Erster Einsatz"},{id:2,name:"Letzter Einsatz"}]}),l.createElement(sa,{onChange:e.handleMissionDateRangeChange}),l.createElement(pt,{horizontal:!0,component:It,name:"start",label:"Einsatzbeginn"}),l.createElement(pt,{horizontal:!0,component:It,name:"end",label:"Einsatzende"}),l.createElement(pt,{horizontal:!0,component:ct,name:"days",label:"Einsatztage"}),l.createElement(pt,{horizontal:!0,component:hn,name:"first_time",label:"Erster SWO Einsatz?"}),l.createElement(pt,{horizontal:!0,component:hn,name:"long_mission",label:"Langer Einsatz?"}),l.createElement(pt,{horizontal:!0,component:hn,name:"probation_period",label:"Probe-einsatz?"}))),l.createElement(rr.a,null,l.createElement(qe.a,{color:"primary",onClick:t.submitForm},"Daten speichern"),e.props.mainStore.isAdmin()&&l.createElement(l.Fragment,null," ",l.createElement(qe.a,{color:"secondary"},"Aufgebot erhalten"))))}})}}]),t}(l.Component))||Mn,la=Be.object({zdp:Be.number(),first_name:Be.string().required(),last_name:Be.string().required(),address:Be.string().required(),zip:Be.number().required(),city:Be.string().required(),hometown:Be.string().required(),birthday:$t().required(),email:Be.string().required(),phone:Be.string().required(),bank_iban:Be.string().required(),bank_bic:Be.string().required(),health_insurance:Be.string().required()}),ua=Be.object({specification_id:Be.string(),mission_type:Be.number(),start:$t().required(),end:$t().required(),days:Be.number().required(),first_time:Be.boolean(),long_mission:Be.boolean(),probation_period:Be.boolean(),draft:Be.string().nullable(!0),eligible_holiday:Be.number(),feedback_done:Be.boolean(),feedback_mail_sent:Be.boolean(),user_id:Be.number().required()}),pa=n(612);function ma(e){var t=e.children,n=e.title,r=e.open,a=e.onClose,i=e.onConfirm;return l.createElement(Qn.a,{maxwidth:"xs","aria-labelledby":"confirmation-dialog-title",isOpen:r,onClose:a},n&&l.createElement(aa.a,{id:"confirmation-dialog-title"},n),l.createElement(tr.a,null,t),l.createElement(rr.a,null,l.createElement(qe.a,{onClick:a,color:"primary"},"Abbrechen"),l.createElement(qe.a,{onClick:i,color:"danger"},"Ok")))}var da=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={open:!1},n.handleOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.handleConfirm=function(){n.props.onConfirm(),n.handleClose()},n.render=function(){return l.createElement(l.Fragment,null,l.createElement(ma,{onClose:n.handleClose,onConfirm:n.handleConfirm,open:n.state.open,title:"L\xf6schen"},n.props.message?n.props.message:"Wirklich l\xf6schen?"),l.createElement(qe.a,{disabled:n.props.disabled,onClick:n.handleOpen,color:"danger",type:"button"},n.props.children))},n}return Object(O.a)(t,e),t}(l.Component);function ha(e,t){return function(n){return e.put(ua.cast(n)).then(function(){t.fetchOne(n.user_id)})}}function fa(){return(fa=Object(Ne.a)(Ae.a.mark(function e(t,n,r){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.dir(t),window.mission=t,e.next=4,n.delete(t.id);case 4:return e.next=6,r.fetchOne(t.user_id);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ba,ga,ya,Ea,va,Oa,ka,ja=function(e){var t=e.user,n=e.mainStore,r=e.missionStore,a=e.classes,i=e.userStore,o=e.specificationStore,s=e.onModalOpen,u=e.onModalClose,p=e.missionModalIsOpen;return l.createElement(qn,{data:t.missions,columns:[{id:"specification",label:"Pflichtenheft",format:function(e){var t=o.entities.find(function(t){return t.id===e.specification_id});return"".concat(t?t.name:""," (").concat(e.specification_id,")")}},{id:"start",label:"Start",format:function(e){return e.start?n.formatDate(e.start):""}},{id:"end",label:"Ende",format:function(e){return e.end?n.formatDate(e.end):""}},{id:"draft_date",label:"",format:function(e){return l.createElement(l.Fragment,null,l.createElement("span",{id:"reportSheetState-".concat(e.id)},l.createElement(Bn.a,{icon:e.draft?ve:ge,color:e.draft?"green":"black"})),l.createElement(pa.a,{target:"reportSheetState-".concat(e.id)},"Aufgebot erhalten"))}}],renderActions:function(e){return l.createElement("div",{className:a.hideButtonText},l.createElement("a",{className:"btn btn-link",href:n.apiURL("missions/"+e.id+"/draft",{},!0),target:"_blank"},l.createElement(Bn.a,{icon:Oe})," ",l.createElement("span",null,"Drucken")),l.createElement(qe.a,{color:"warning",type:"button",className:"mr-1",onClick:function(){return s(e)}},l.createElement(Bn.a,{icon:Ee})," ",l.createElement("span",null,"Bearbeiten")),function(e){if(!e.feedback_done&&!c()().isBefore(c()(e.end)))return l.createElement(S.a,{to:"/mission/".concat(e.id,"/feedback")},l.createElement(qe.a,{color:"info",type:"button",className:"mr-1"},l.createElement(Bn.a,{icon:xe})," ",l.createElement("span",null,"Feedback senden")))}(e),n.isAdmin()&&l.createElement(l.Fragment,null,l.createElement(da,{onConfirm:function(){return function(e,t,n){return fa.apply(this,arguments)}(e,r,i)}},l.createElement(Bn.a,{icon:je})," ",l.createElement("span",null,"L\xf6schen"))," ",l.createElement(qe.a,{color:"success",type:"button"},l.createElement(Bn.a,{icon:ke})," ",l.createElement("span",null,"Spesenblatt"))),l.createElement(ca,{onSubmit:ha(r,i),user:t,values:e,onClose:u,isOpen:p}))}})},wa=Object(w.b)("mainStore","missionStore","specificationStore","userStore")(ba=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).state={mission_id:void 0,new_mission:!1},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,r=t.missionStore,a=t.mainStore,i=t.userStore,o=t.specificationStore,s=t.classes,c=t.theme;return l.createElement(l.Fragment,null,l.createElement("h3",null,"Einsatzplanung"),l.createElement("p",null,'Um eine Einsatzplanung zu erfassen, klicke unten auf "Neue Einsatzplanung hinzuf\xfcgen", w\xe4hle ein Pflichtenheft aus und trage Start- und Enddatum ein.',l.createElement("br",null),'Klicke nach dem Erstellen der Einsatzplanung auf "Drucken", um ein PDF zu generieren. Dieses kannst du dann an den Einsatzbetrieb schicken.'),l.createElement("p",null,l.createElement("b",null,"Beachte:")," Zivi-Eins\xe4tze im Naturschutz m\xfcssen an einem Montag beginnen und an einem Freitag enden, ausser es handelt sich um deinen letzten Zivi Einsatz und du leistest nur noch die verbleibenden Resttage."),n&&l.createElement("div",null,l.createElement(ja,{mainStore:a,missionStore:r,userStore:i,specificationStore:o,user:n,classes:s,missionModalIsOpen:!!this.state.mission_id,theme:c,onModalClose:function(){return e.setState({mission_id:void 0})},onModalOpen:function(t){return e.setState({mission_id:t.id})}}),l.createElement(qe.a,{color:"success",type:"button",onClick:function(){e.setState({new_mission:!0})}},"Neue Einsatzplanung hinzuf\xfcgen"),l.createElement(ca,{onSubmit:function(e){return r.post(ua.cast(e))},user:n,onClose:function(){e.setState({new_mission:!1})},isOpen:this.state.new_mission})),!n&&l.createElement("div",null,"Loading..."))}}]),t}(l.Component))||ba,Sa=d()(function(){return L({hideButtonText:{"@media (max-width: 1024px)":{"& button":{width:"40px"},"& span":{display:"none"}},marginTop:"-0.5rem"}})})(wa),_a=Object(w.b)("mainStore")(ga=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).handleOpenTooltip=function(e){var t=n.state.openTooltips;t[e]=!t[e]||!t[e],n.setState({openTooltips:t})},n.state={openTooltips:[]},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,r=t.mainStore,a=t.classes;return l.createElement(l.Fragment,null,l.createElement("h3",null,"Spesenbl\xe4tter"),l.createElement("br",null),l.createElement("br",null),n&&l.createElement(l.Fragment,null,l.createElement(qn,{data:n.report_sheets,columns:[{id:"start",label:"Von",format:function(e){return e.start?r.formatDate(e.start):""}},{id:"end",label:"Bis",format:function(e){return e.end?r.formatDate(e.end):""}},{id:"days",label:"Anzahl Tage",format:function(e){return e.end&&e.start?c()(e.end).diff(c()(e.start),"d")+1-e.company_holiday_holiday-e.holiday:0}},{id:"state",label:"Status",format:function(t){var n,r,a="black";switch(t.state){case 0:n=we,r="Noch nicht f\xe4llig";break;case 1:case 2:n=Se,r="In Bearbeitung",a="orange";break;case 3:n=ve,r="Erledigt",a="green";break;default:n=we,r="Noch nicht f\xe4llig"}return l.createElement(l.Fragment,null,l.createElement("span",{id:"reportSheetState"+t.id},l.createElement(Bn.a,{icon:n,color:a})),l.createElement(zr.a,{placement:"bottom",target:"reportSheetState"+t.id,isOpen:e.state.openTooltips[t.id],toggle:function(){return e.handleOpenTooltip(t.id)}},r))}},{id:"print",label:"Drucken",format:function(e){return 3===e.state&&r.isAdmin()?l.createElement("div",{className:a.hideButtonText},l.createElement(qe.a,{color:"link",href:r.apiURL("report_sheets/"+String(e.id)+"/download"),tag:"a",target:"_blank"},l.createElement(Bn.a,{icon:Oe})," ",l.createElement("span",null,"Drucken"))):l.createElement(l.Fragment,null)}}],renderActions:function(e){return l.createElement("div",null,r.isAdmin()?l.createElement("div",{className:a.hideButtonText},l.createElement(qe.a,{color:"warning",href:"/report_sheets/"+e.id,tag:"a",target:"_blank"},l.createElement(Bn.a,{icon:Ee})," ",l.createElement("span",null,"Bearbeiten"))):l.createElement(l.Fragment,null))}})),!n&&l.createElement("div",null,"Loading..."))}}]),t}(l.Component))||ga,xa=d()(function(){return L({hideButtonText:{"@media (max-width: 1024px)":{"& button":{width:"40px"},"& span":{display:"none"}},marginTop:"-0.5rem"}})})(_a),za=Object(w.b)("mainStore","userStore","specificationStore")(ya=Object(w.c)(ya=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){this.props.specificationStore.fetchAll()}},{key:"render",value:function(){var e=this.props,t=e.onSubmit,n=e.user,r=e.title,a=e.mainStore;return l.createElement(l.Fragment,null,l.createElement(br,{card:!0,loading:vr(n)||this.props.loading,initialValues:n,onSubmit:function(e){return t(n)},title:r,validationSchema:la,render:function(e){return l.createElement(zt.a,null,l.createElement("h3",null,"Pers\xf6nliche Informationen"),l.createElement("p",null,"Bitte f\xfclle die folgenden Felder zu deiner Person wahrheitsgetreu aus. Dadurch erleichterst du dir und uns den administrativen Aufwand. ",l.createElement("br",null),"Wir verwenden diese Informationen ausschliesslich zur Erstellung der Einsatzplanung und zur administrativen Abwicklung."),l.createElement("p",null,"Bitte lies dir auch die n\xe4heren Informationen zu den jeweiligen Feldern unter dem Icon jeweils durch."),l.createElement("p",null,"Wichtig: Vergiss nicht zu speichern (Daten speichern) bevor du die Seite verl\xe4sst oder eine Einsatzplanung erfasst."),l.createElement(gr,null),l.createElement(pt,{disabled:!0,horizontal:!0,component:ct,name:"zdp",label:"ZDP"}),l.createElement(pt,{horizontal:!0,component:ct,name:"first_name",label:"Vorname"}),l.createElement(pt,{horizontal:!0,component:ct,name:"last_name",label:"Nachname"}),l.createElement(pt,{horizontal:!0,component:ct,name:"address",label:"Strasse"}),l.createElement(pt,{horizontal:!0,component:ot,name:"zip",label:"PLZ"}),l.createElement(pt,{horizontal:!0,component:ct,name:"city",label:"Ort"}),l.createElement(pt,{horizontal:!0,component:ct,name:"hometown",label:"Heimatort"}),l.createElement(pt,{horizontal:!0,component:It,name:"birthday",label:"Geburtstag"}),l.createElement(gr,null),l.createElement("h3",null,"Kontaktm\xf6glichkeit"),l.createElement("p",null,'Telefonnummer bitte im Format "044 123 45 67" angeben.'),l.createElement(pt,{horizontal:!0,component:ct,name:"email",label:"E-Mail"}),l.createElement(pt,{horizontal:!0,component:ct,name:"phone",label:"Telefon"}),l.createElement(gr,null),l.createElement("h3",null,"Bank-/Postverbindung"),l.createElement(pt,{horizontal:!0,component:ct,name:"bank_iban",label:"IBAN-Nummer"}),l.createElement(pt,{horizontal:!0,component:ct,name:"bank_bic",label:"BIC / SWIFT"}),l.createElement(gr,null),l.createElement("h3",null,"Krankenkasse"),l.createElement(pt,{horizontal:!0,component:ct,name:"health_insurance",label:"Krankenkasse (Name und Ort)"}),l.createElement(gr,null),l.createElement("h3",null,"Diverse Informationen"),l.createElement(pt,{horizontal:!0,multiline:!0,component:ct,name:"work_experience",label:"Berufserfahrung"}),l.createElement(pt,{horizontal:!0,component:lt,name:"regional_center_id",label:"Regionalzentrum",options:[]}),l.createElement(pt,{horizontal:!0,component:hn,name:"driving_licence_b",label:"F\xfchrerausweis Kat. B"}),l.createElement(pt,{horizontal:!0,component:hn,name:"driving_licence_be",label:"F\xfchrerausweis Kat. BE"}),l.createElement(pt,{horizontal:!0,component:hn,name:"chainsaw_workshop",label:"Motors\xe4gekurs bereits absolviert"}),a.isAdmin()&&l.createElement(l.Fragment,null,l.createElement(pt,{horizontal:!0,component:lt,name:"work_experience",label:"Benutzerrolle",options:[]}),l.createElement(pt,{horizontal:!0,multiline:!0,component:ct,name:"internal_note",label:"Interne Bemerkung"})),l.createElement(dn.a,null,l.createElement(We.a,{md:2},l.createElement(qe.a,{block:!0,color:"primary",onClick:e.submitForm},"Speichern"))))}},l.createElement(gr,null),l.createElement(Sa,{user:n}),l.createElement(gr,null),l.createElement(xa,{user:n})))}}]),t}(l.Component))||ya)||ya,Da=Object(On.a)(za),Fa=Object(w.b)("userStore")(Ea=Object(w.c)(Ea=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).handleSubmit=function(e){return n.props.userStore.put(e)},e.userId?e.userStore.fetchOne(e.userId):e.userStore.fetchOne(Number(e.match.params.id)),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.user;return l.createElement(Da,{onSubmit:this.handleSubmit,user:e,title:e?"Profil":"Profil wird geladen"})}},{key:"user",get:function(){var e=this.props.userStore.user;return e?Object(Ut.p)(e):void 0}}]),t}(l.Component))||Ea)||Ea,Ca=Object(w.b)("apiStore")(va=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement(Fa,{history:this.props.history,location:this.props.location,match:this.props.match,userId:this.props.apiStore.userId})}}]),t}(l.Component))||va,Aa=Object(w.b)("mainStore")(Oa=Object(w.c)(Oa=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).handleClick=function(e){var t=n.props.onClickRow;"string"===typeof t?n.props.mainStore.navigateTo(t.replace(":id",String(e.id))):"function"===typeof t&&t(e)},e.store.fetchAll().then(function(){n.setState({loading:!1}),n.props.filter&&n.props.store.filter()}),n.state={loading:!0},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.filter?this.props.store.filteredEntities:this.props.store.entities;return l.createElement(jt,{card:!0,loading:this.state.loading,title:this.props.title},this.props.children," ",l.createElement("br",null),l.createElement("br",null),this.props.columns&&l.createElement(qn,{columns:this.props.columns,renderActions:this.props.renderActions,data:e,onClickRow:this.handleClick,firstRow:this.props.firstRow}))}}]),t}(l.Component))||Oa)||Oa,Na=Object(w.b)("mainStore","userStore")(ka=Object(w.c)(ka=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).columns=void 0,n.columns=[{id:"zdp",label:"ZDP",format:function(e){return l.createElement(l.Fragment,null,String(e.zdp))}},{id:"name",label:"Name",format:function(e){return l.createElement(S.a,{to:"/users/"+e.id},"".concat(e.first_name," ").concat(e.last_name))}},{id:"start",label:"Von",format:function(e){return e.start?n.props.mainStore.formatDate(e.start):""}},{id:"end",label:"Bis",format:function(e){return e.end?n.props.mainStore.formatDate(e.end):""}},{id:"active",label:"Aktiv"},{id:"userRole",label:"Gruppe",format:function(e){return l.createElement(l.Fragment,null,"".concat(e.role.name))}}],n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return l.createElement(Aa,{columns:this.columns,store:this.props.userStore,title:"Benutzer",renderActions:function(t){return l.createElement(l.Fragment,null,l.createElement(qe.a,{color:"danger",onClick:function(){e.props.userStore.delete(t.id)}},"L\xf6schen"))},filter:!0,firstRow:l.createElement("tr",null,l.createElement("td",null,l.createElement(Ue.a,{type:"text",onChange:function(t){e.props.userStore.updateFilters({zdp:t.target.value})},value:this.props.userStore.userFilters.zdp||""})),l.createElement("td",null,l.createElement(Ue.a,{type:"text",onChange:function(t){e.props.userStore.updateFilters({name:t.target.value})},value:this.props.userStore.userFilters.name})),l.createElement("td",null,l.createElement(Yt,{value:new Date(this.props.userStore.userFilters.date_from),onChange:function(t){e.props.userStore.updateFilters({date_from:t.toISOString()})}})),l.createElement("td",null,l.createElement(Yt,{value:new Date(this.props.userStore.userFilters.date_to),onChange:function(t){e.props.userStore.updateFilters({date_to:t.toISOString()})}})),l.createElement("td",null,l.createElement(He.a,{check:!0},l.createElement(Ue.a,{type:"checkbox",onChange:function(t){e.props.userStore.updateFilters({active:t.target.checked})},checked:this.props.userStore.userFilters.active}))),l.createElement("td",null,l.createElement(Ue.a,{type:"select",onChange:function(t){e.props.userStore.updateFilters({role:t.target.value})},value:this.props.userStore.userFilters.role||""},[{id:"",name:"Alle"},{id:"zivi",name:"Zivi"},{id:"admin",name:"Admin"}].map(function(e){return l.createElement("option",{value:e.id,key:e.id},e.name)}))))})}}]),t}(l.Component))||ka)||ka;ee.b.add(ce.faCheck,pe.faExclamation,oe.faSquare,he.faSync,le.faEdit,te.faCheckSquare,me.faPrint,ae.faPlusSquare,se.faTrashAlt,de.faSpinner,ne.faClock,re.faHourglass,ie.faSave,ue.faEnvelope);var Pa,Ta,Ma,qa,Ba,Ya,Ia,Wa,La=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement(Q,null,l.createElement(k.a,null,l.createElement(j.a,{component:on,exact:!0,path:"/"}),l.createElement(j.a,{component:ln,exact:!0,path:"/login"}),l.createElement(j.a,{component:Un,exact:!0,path:"/register"}),l.createElement(j.a,{component:Ct,exact:!0,path:"/forgotPassword"}),l.createElement(j.a,{component:Qt,exact:!0,path:"/holidays"}),l.createElement(j.a,{component:Vn,exact:!0,path:"/phones"}),l.createElement(j.a,{component:Ca,exact:!0,path:"/profile"}),l.createElement(Fe,{component:_t,exact:!0,path:"/changePassword"}),l.createElement(Fe,{component:Xr,exact:!0,path:"/mission/:id/feedback"}),l.createElement(Fe,{requiresAdmin:!0,component:Ln,exact:!0,path:"/payments"}),l.createElement(Fe,{requiresAdmin:!0,component:En,exact:!0,path:"/missions"}),l.createElement(Fe,{requiresAdmin:!0,component:Wn,exact:!0,path:"/payments/:id"}),l.createElement(Fe,{requiresAdmin:!0,component:or,exact:!0,path:"/report_sheets"}),l.createElement(Fe,{requiresAdmin:!0,component:_r,exact:!0,path:"/report_sheets/:id"}),l.createElement(Fe,{requiresAdmin:!0,component:Jr,exact:!0,path:"/user_feedbacks"}),l.createElement(Fe,{requiresAdmin:!0,component:Na,exact:!0,path:"/users"}),l.createElement(Fe,{requiresAdmin:!0,component:Fa,exact:!0,path:"/users/:id"}),l.createElement(Fe,{requiresAdmin:!0,component:Nr,exact:!0,path:"/specifications"}),l.createElement(j.a,{component:vn})))}}]),t}(l.Component),Ra=n(26),Va=(Pa=function(){function e(t){Object(g.a)(this,e),this.mainStore=t,Object(Wt.a)(this,"filteredEntities",Ta,this),this.filter=function(){}}return Object(y.a)(e,[{key:"entityName",get:function(){return{singular:"Die Entit\xe4t",plural:"Die Entit\xe4ten"}}},{key:"entity",get:function(){throw new Error("Not implemented")},set:function(e){throw new Error("Not implemented")}},{key:"entities",get:function(){throw new Error("Not implemented")}}]),Object(y.a)(e,[{key:"fetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t,n=arguments;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,this.doFetchAll(t);case 4:e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(1),this.mainStore.displayError("".concat(this.entityName.plural," konnten nicht geladen werden.")),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOne",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.entity=void 0,e.next=4,this.doFetchOne(t);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),this.mainStore.displayError("".concat(this.entityName.plural," konnten nicht geladen werden.")),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n=this;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.displayLoading(Object(Ne.a)(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.doPost(t);case 3:n.mainStore.displaySuccess("".concat(n.entityName.singular," wurde gespeichert.")),e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(0),n.mainStore.displayError("".concat(n.entityName.singular," konnte nicht gespeichert werden.")),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,6]])})));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n=this;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.displayLoading(Object(Ne.a)(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.doPut(t);case 3:n.mainStore.displaySuccess("".concat(n.entityName.singular," wurde gespeichert.")),e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(0),n.mainStore.displayError("".concat(n.entityName.singular," konnte nicht gespeichert werden.")),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,6]])})));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n=this;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.displayLoading(Object(Ne.a)(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.doDelete(t);case 3:n.mainStore.displaySuccess("".concat(n.entityName.singular," wurde gel\xf6scht.")),e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(0),n.mainStore.displayError("".concat(n.entityName.singular," konnte nicht gel\xf6scht werden.")),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,6]])})));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"displayLoading",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"notifyProgress",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n,r,a,i,o,s=this,c=arguments;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=n.errorMessage,a=void 0===r?"Fehler!":r,i=n.successMessage,o=void 0===i?"Erfolg!":i,this.displayLoading(Object(Ne.a)(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:o&&s.mainStore.displaySuccess(o),e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(0),o&&s.mainStore.displayError(a),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,6]])})));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doFetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t=arguments;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw t.length>0&&void 0!==t[0]?t[0]:{},new Error("Not implemented");case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"doFetchOne",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"doPost",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"doPut",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"doDelete",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ta=Object(Lt.a)(Pa.prototype,"filteredEntities",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(Lt.a)(Pa.prototype,"fetchAll",[Ut.d],Object.getOwnPropertyDescriptor(Pa.prototype,"fetchAll"),Pa.prototype),Object(Lt.a)(Pa.prototype,"fetchOne",[Ut.d],Object.getOwnPropertyDescriptor(Pa.prototype,"fetchOne"),Pa.prototype),Object(Lt.a)(Pa.prototype,"post",[Ut.d],Object.getOwnPropertyDescriptor(Pa.prototype,"post"),Pa.prototype),Object(Lt.a)(Pa.prototype,"put",[Ut.d],Object.getOwnPropertyDescriptor(Pa.prototype,"put"),Pa.prototype),Object(Lt.a)(Pa.prototype,"delete",[Ut.d],Object.getOwnPropertyDescriptor(Pa.prototype,"delete"),Pa.prototype),Object(Lt.a)(Pa.prototype,"doPut",[Ut.d],Object.getOwnPropertyDescriptor(Pa.prototype,"doPut"),Pa.prototype),Object(Lt.a)(Pa.prototype,"doDelete",[Ut.d],Object.getOwnPropertyDescriptor(Pa.prototype,"doDelete"),Pa.prototype),Pa),Ha=(Ma=function(e){function t(e){var n;return Object(g.a)(this,t),n=Object(E.a)(this,Object(v.a)(t).call(this,e)),Object(Wt.a)(n,"holidays",qa,Object(Ra.a)(n)),Object(Wt.a)(n,"holiday",Ba,Object(Ra.a)(n)),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"entityName",get:function(){return{singular:"Der Feiertag",plural:"Die Feiertage"}}},{key:"entities",get:function(){return this.holidays}},{key:"entity",get:function(){return this.holiday},set:function(e){this.holiday=e}}]),Object(y.a)(t,[{key:"doDelete",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.delete("/holidays/"+t);case 2:return e.next=4,this.doFetchAll();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doFetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/holidays");case 2:t=e.sent,this.holidays=t.data;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"doPost",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.post("/holidays",t);case 2:n=e.sent,this.holidays=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doPut",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.put("/holidays/"+t.id,t);case 2:n=e.sent,this.holidays=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(Va),Object(Lt.a)(Ma.prototype,"entities",[Ut.e],Object.getOwnPropertyDescriptor(Ma.prototype,"entities"),Ma.prototype),Object(Lt.a)(Ma.prototype,"entity",[Ut.e],Object.getOwnPropertyDescriptor(Ma.prototype,"entity"),Ma.prototype),qa=Object(Lt.a)(Ma.prototype,"holidays",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ba=Object(Lt.a)(Ma.prototype,"holiday",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Lt.a)(Ma.prototype,"doDelete",[Ut.d],Object.getOwnPropertyDescriptor(Ma.prototype,"doDelete"),Ma.prototype),Object(Lt.a)(Ma.prototype,"doFetchAll",[Ut.d],Object.getOwnPropertyDescriptor(Ma.prototype,"doFetchAll"),Ma.prototype),Object(Lt.a)(Ma.prototype,"doPost",[Ut.d],Object.getOwnPropertyDescriptor(Ma.prototype,"doPost"),Ma.prototype),Object(Lt.a)(Ma.prototype,"doPut",[Ut.d],Object.getOwnPropertyDescriptor(Ma.prototype,"doPut"),Ma.prototype),Ma),Za=n(150),Ua=n.n(Za),Ka={messageSize:"14",messageLineHeight:"20",position:"bottomLeft",transitionIn:"flipInX",transitionOut:"flipOutX",layout:2,timeout:2e3};function Ja(e){Ua.a.show(Object(sr.a)({},Ka,{id:"toast-success",icon:"glyphicon glyphicon-thumbs-up",color:"green",progressBarColor:"rgb(0, 255, 0)",message:e}))}function Ga(e){Ua.a.show(Object(sr.a)({},Ka,{id:"toast-failed",icon:"glyphicon glyphicon-fire",color:"red",progressBarColor:"rgb(255, 0, 0)",message:e}))}function $a(e){Ua.a.show({id:"toast-warning",color:"orange",progressBarColor:"rgb(255, 0, 0)",message:e})}var Xa,Qa,ei,ti,ni,ri,ai,ii,oi,si,ci,li,ui,pi,mi,di,hi,fi,bi,gi=(Ya=function(){function e(t,n,r){Object(g.a)(this,e),this.apiStore=t,this.formatter=n,this.history=r,Object(Wt.a)(this,"navOpen",Ia,this),Object(Wt.a)(this,"showArchived",Wa,this),this.formatDate=this.formatter.formatDate,this.formatDuration=this.formatter.formatDuration,this.formatCurrency=this.formatter.formatCurrency,this.trimString=this.formatter.trimString,this.displayWarning=$a,this.displaySuccess=Ja,this.displayError=Ga}return Object(y.a)(e,[{key:"api",get:function(){return this.apiStore.api}}]),Object(y.a)(e,[{key:"navigateTo",value:function(e){this.history.push(e)}},{key:"apiURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Er()(Kt+"/"+e,Object(sr.a)({},t,{token:n?this.apiStore.token:void 0}))}},{key:"validateIBAN",value:function(e){return new RegExp("^CH\\d{2,2}\\s{0,1}(\\w{4,4}\\s{0,1}){4,7}\\w{0,2}$","g").test(e)}},{key:"isAdmin",value:function(){return this.apiStore.isAdmin}}]),e}(),Ia=Object(Lt.a)(Ya.prototype,"navOpen",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wa=Object(Lt.a)(Ya.prototype,"showArchived",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(Lt.a)(Ya.prototype,"navigateTo",[Ut.d],Object.getOwnPropertyDescriptor(Ya.prototype,"navigateTo"),Ya.prototype),Ya),yi=(Xa=function(e){function t(e){var n;return Object(g.a)(this,t),n=Object(E.a)(this,Object(v.a)(t).call(this,e)),Object(Wt.a)(n,"missions",Qa,Object(Ra.a)(n)),Object(Wt.a)(n,"mission",ei,Object(Ra.a)(n)),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"entityName",get:function(){return{singular:"Der Zivildiensteinsatz",plural:"Die Zivildiensteins\xe4tze"}}},{key:"entities",get:function(){return this.missions}},{key:"entity",get:function(){return this.mission},set:function(e){this.mission=e}}]),Object(y.a)(t,[{key:"fetchByYear",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/missions/"+t);case 2:n=e.sent,this.missions=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"calcEligibleDays",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,n){var r;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/mission_days/eligible_days?start="+t+"&end="+n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"calcPossibleEndDate",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,n){var r;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/mission_days/possible_end_date?start="+t+"&days="+n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"doPutDraft",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/missions/"+t+"/draft");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doDelete",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.delete("/missions/"+t);case 2:return e.next=4,this.doFetchAll();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doFetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/missions");case 2:t=e.sent,this.missions=t.data;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"doPost",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.post("/missions",t);case 2:n=e.sent,this.missions=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doPut",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.put("/missions/"+t.id,t);case 2:n=e.sent,this.missions=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(Va),Object(Lt.a)(Xa.prototype,"entities",[Ut.e],Object.getOwnPropertyDescriptor(Xa.prototype,"entities"),Xa.prototype),Object(Lt.a)(Xa.prototype,"entity",[Ut.e],Object.getOwnPropertyDescriptor(Xa.prototype,"entity"),Xa.prototype),Qa=Object(Lt.a)(Xa.prototype,"missions",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ei=Object(Lt.a)(Xa.prototype,"mission",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Lt.a)(Xa.prototype,"fetchByYear",[Ut.d],Object.getOwnPropertyDescriptor(Xa.prototype,"fetchByYear"),Xa.prototype),Object(Lt.a)(Xa.prototype,"doPutDraft",[Ut.d],Object.getOwnPropertyDescriptor(Xa.prototype,"doPutDraft"),Xa.prototype),Object(Lt.a)(Xa.prototype,"doDelete",[Ut.d],Object.getOwnPropertyDescriptor(Xa.prototype,"doDelete"),Xa.prototype),Object(Lt.a)(Xa.prototype,"doFetchAll",[Ut.d],Object.getOwnPropertyDescriptor(Xa.prototype,"doFetchAll"),Xa.prototype),Object(Lt.a)(Xa.prototype,"doPost",[Ut.d],Object.getOwnPropertyDescriptor(Xa.prototype,"doPost"),Xa.prototype),Object(Lt.a)(Xa.prototype,"doPut",[Ut.d],Object.getOwnPropertyDescriptor(Xa.prototype,"doPut"),Xa.prototype),Xa),Ei=(ti=function(e){function t(e){var n;return Object(g.a)(this,t),n=Object(E.a)(this,Object(v.a)(t).call(this,e)),Object(Wt.a)(n,"payments",ni,Object(Ra.a)(n)),Object(Wt.a)(n,"payment",ri,Object(Ra.a)(n)),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"entityName",get:function(){return{singular:"Die Auszahlung",plural:"Die Auszahlungen"}}},{key:"entities",get:function(){return this.payments}},{key:"entity",get:function(){return this.payment},set:function(e){this.payment=e}}]),Object(y.a)(t,[{key:"doFetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/payments");case 2:t=e.sent,this.payments=t.data;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"doFetchOne",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/payments/"+t);case 2:n=e.sent,this.payment=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(Va),Object(Lt.a)(ti.prototype,"entities",[Ut.e],Object.getOwnPropertyDescriptor(ti.prototype,"entities"),ti.prototype),Object(Lt.a)(ti.prototype,"entity",[Ut.e],Object.getOwnPropertyDescriptor(ti.prototype,"entity"),ti.prototype),ni=Object(Lt.a)(ti.prototype,"payments",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ri=Object(Lt.a)(ti.prototype,"payment",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti),vi=(ai=function(e){function t(e){var n;return Object(g.a)(this,t),n=Object(E.a)(this,Object(v.a)(t).call(this,e)),Object(Wt.a)(n,"toBePaidReportSheets",ii,Object(Ra.a)(n)),Object(Wt.a)(n,"reportSheets",oi,Object(Ra.a)(n)),Object(Wt.a)(n,"reportSheet",si,Object(Ra.a)(n)),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"entityName",get:function(){return{singular:"Das Spesenblatt",plural:"Die Spesenbl\xe4tter"}}},{key:"entities",get:function(){return this.reportSheets}},{key:"entity",get:function(){return this.reportSheet},set:function(e){this.reportSheet=e}}]),Object(y.a)(t,[{key:"fetchToBePaidAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.toBePaidReportSheets=[],e.next=4,this.mainStore.api.get("/report_sheets",{params:{state:"ready_for_payment"}});case 4:t=e.sent,this.toBePaidReportSheets=t.data,e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),this.mainStore.displayError("".concat(this.entityName.plural," konnten nicht geladen werden.")),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"putState",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t,n){var r=this;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.displayLoading(Object(Ne.a)(Ae.a.mark(function e(){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.mainStore.api.put("/report_sheets/"+t+"/state",{state:n});case 2:r.mainStore.displaySuccess("".concat(r.entityName.singular," wurde best\xe4tigt."));case 3:case"end":return e.stop()}},e)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"doDelete",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.delete("/report_sheets/"+t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doFetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t,n,r=arguments;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,this.mainStore.api.get("/report_sheets",{params:Object(sr.a)({},t)});case 3:n=e.sent,this.reportSheets=n.data;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"doFetchOne",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/report_sheets/"+t);case 2:n=e.sent,this.reportSheet=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doPut",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.put("/report_sheets/"+t.id,t);case 2:n=e.sent,this.reportSheet=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(Va),Object(Lt.a)(ai.prototype,"entities",[Ut.e],Object.getOwnPropertyDescriptor(ai.prototype,"entities"),ai.prototype),Object(Lt.a)(ai.prototype,"entity",[Ut.e],Object.getOwnPropertyDescriptor(ai.prototype,"entity"),ai.prototype),ii=Object(Lt.a)(ai.prototype,"toBePaidReportSheets",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oi=Object(Lt.a)(ai.prototype,"reportSheets",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),si=Object(Lt.a)(ai.prototype,"reportSheet",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Lt.a)(ai.prototype,"fetchToBePaidAll",[Ut.d],Object.getOwnPropertyDescriptor(ai.prototype,"fetchToBePaidAll"),ai.prototype),Object(Lt.a)(ai.prototype,"putState",[Ut.d],Object.getOwnPropertyDescriptor(ai.prototype,"putState"),ai.prototype),ai),Oi=(ci=function(e){function t(e){var n;return Object(g.a)(this,t),n=Object(E.a)(this,Object(v.a)(t).call(this,e)),Object(Wt.a)(n,"specifications",li,Object(Ra.a)(n)),Object(Wt.a)(n,"specification",ui,Object(Ra.a)(n)),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"entityName",get:function(){return{singular:"Das Pflichtenheft",plural:"Die Pflichtenhefte"}}},{key:"entities",get:function(){return this.specifications}},{key:"entity",get:function(){return this.specification},set:function(e){this.specification=e}}]),Object(y.a)(t,[{key:"doDelete",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.delete("/specifications/"+t);case 2:return e.next=4,this.doFetchAll();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doFetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/specifications");case 2:t=e.sent,this.specifications=t.data;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"doPost",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.post("/specifications",t);case 2:n=e.sent,this.specifications=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doPut",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.put("/specifications/"+t.id,t);case 2:n=e.sent,this.specifications=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(Va),Object(Lt.a)(ci.prototype,"entities",[Ut.e],Object.getOwnPropertyDescriptor(ci.prototype,"entities"),ci.prototype),Object(Lt.a)(ci.prototype,"entity",[Ut.e],Object.getOwnPropertyDescriptor(ci.prototype,"entity"),ci.prototype),li=Object(Lt.a)(ci.prototype,"specifications",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ui=Object(Lt.a)(ci.prototype,"specification",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Lt.a)(ci.prototype,"doDelete",[Ut.d],Object.getOwnPropertyDescriptor(ci.prototype,"doDelete"),ci.prototype),Object(Lt.a)(ci.prototype,"doFetchAll",[Ut.d],Object.getOwnPropertyDescriptor(ci.prototype,"doFetchAll"),ci.prototype),Object(Lt.a)(ci.prototype,"doPost",[Ut.d],Object.getOwnPropertyDescriptor(ci.prototype,"doPost"),ci.prototype),Object(Lt.a)(ci.prototype,"doPut",[Ut.d],Object.getOwnPropertyDescriptor(ci.prototype,"doPut"),ci.prototype),ci),ki=(pi=function(e){function t(){var e,n;Object(g.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a))),Object(Wt.a)(n,"userFeedbacks",mi,Object(Ra.a)(n)),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"doFetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t,n,r=arguments;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,this.mainStore.api.get("/user_feedbacks",{params:Object(sr.a)({},t)});case 3:n=e.sent,this.userFeedbacks=n.data;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"entities",get:function(){return this.userFeedbacks}}]),t}(Va),Object(Lt.a)(pi.prototype,"entities",[Ut.e],Object.getOwnPropertyDescriptor(pi.prototype,"entities"),pi.prototype),mi=Object(Lt.a)(pi.prototype,"userFeedbacks",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pi),ji=(di=function(e){function t(e){var n;return Object(g.a)(this,t),n=Object(E.a)(this,Object(v.a)(t).call(this,e)),Object(Wt.a)(n,"users",hi,Object(Ra.a)(n)),Object(Wt.a)(n,"user",fi,Object(Ra.a)(n)),Object(Wt.a)(n,"userFilters",bi,Object(Ra.a)(n)),n.filter=ea()(function(){n.filteredEntities=n.users.filter(function(e){var t=n.userFilters,r=t.zdp,a=t.name,i=t.date_from,o=t.date_to,s=t.active,l=t.role;return!(r&&!e.zdp.toString().startsWith(r.toString()))&&(!(a&&!(e.first_name+" "+e.last_name).toLowerCase().includes(a.toLowerCase()))&&(!(i&&e.start&&c()(e.start).isBefore(c()(i)))&&(!(o&&e.end&&c()(e.end).isAfter(c()(o)))&&(!(s&&!e.active)&&(!l||e.role.name===l)))))}).sort(function(e,t){return!e.start&&t.start?1:!t.start&&e.start?-1:t.start&&e.start?c()(e.start).isBefore(t.start)?1:-1:0})},100),n.userFilters=Ut.l.object({zdp:"",name:"",date_from:c()().subtract(1,"year").date(0).format("Y-MM-DD"),date_to:c()().add(5,"year").date(0).format("Y-MM-DD"),active:!1,role:""}),Object(Ut.m)(function(){return[n.userFilters.zdp,n.userFilters.name,n.userFilters.date_from,n.userFilters.date_to,n.userFilters.active,n.userFilters.role]},function(){n.filter()}),n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"entityName",get:function(){return{singular:"Der Beutzer",plural:"Die Benutzer"}}},{key:"entities",get:function(){return this.users}},{key:"entity",get:function(){return this.user},set:function(e){this.user=e}}]),Object(y.a)(t,[{key:"updateFilters",value:function(e){this.userFilters=Object(sr.a)({},this.userFilters,e)}},{key:"doDelete",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.delete("/users/"+t);case 2:return e.next=4,this.doFetchAll();case 4:return e.next=6,this.filter();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doFetchAll",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(){var t;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/users");case 2:t=e.sent,this.users=t.data;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"doFetchOne",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.get("/users/"+t);case 2:n=e.sent,this.user=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doPost",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.post("/users",t);case 2:n=e.sent,this.users=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doPut",value:function(){var e=Object(Ne.a)(Ae.a.mark(function e(t){var n;return Ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainStore.api.put("/users/"+t.id,t);case 2:n=e.sent,this.users=n.data;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(Va),Object(Lt.a)(di.prototype,"entities",[Ut.e],Object.getOwnPropertyDescriptor(di.prototype,"entities"),di.prototype),Object(Lt.a)(di.prototype,"entity",[Ut.e],Object.getOwnPropertyDescriptor(di.prototype,"entity"),di.prototype),hi=Object(Lt.a)(di.prototype,"users",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fi=Object(Lt.a)(di.prototype,"user",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi=Object(Lt.a)(di.prototype,"userFilters",[Ut.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(Lt.a)(di.prototype,"updateFilters",[Ut.d],Object.getOwnPropertyDescriptor(di.prototype,"updateFilters"),di.prototype),Object(Lt.a)(di.prototype,"doDelete",[Ut.d],Object.getOwnPropertyDescriptor(di.prototype,"doDelete"),di.prototype),Object(Lt.a)(di.prototype,"doFetchAll",[Ut.d],Object.getOwnPropertyDescriptor(di.prototype,"doFetchAll"),di.prototype),Object(Lt.a)(di.prototype,"doPost",[Ut.d],Object.getOwnPropertyDescriptor(di.prototype,"doPost"),di.prototype),Object(Lt.a)(di.prototype,"doPut",[Ut.d],Object.getOwnPropertyDescriptor(di.prototype,"doPut"),di.prototype),di),wi=function(){function e(){var t=this;Object(g.a)(this,e),this.formatDate=function(e){return c()(e).format(t.userDateFormat.format)},this.formatDuration=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?" "+t:"";switch(t){case"h":return Number(e/60).toFixed(1)+n;case"d":return Number(e/60*60).toFixed(1)+n}},this.formatCurrency=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return isNaN(Number(e))?"0\xa0CHF":(Number(e)/100).toFixed(2)+(t?" CHF":"")},this.trimString=function(e){return e.length>150?e.substring(0,150)+" ...":e}}return Object(y.a)(e,[{key:"userDateFormat",get:function(){return{format:"DD.MM.YYYY",mask:function(e){return e?[/\d/,/\d/,".",/\d/,/\d/,".",/\d/,/\d/,/\d/,/\d/]:[]}}}}]),e}(),Si=function(e){function t(e){var n;Object(g.a)(this,t),(n=Object(E.a)(this,Object(v.a)(t).call(this,e))).stores=void 0;var r=new Gt(n.props.history),a=new wi,i=new gi(r,a,n.props.history);return n.stores={apiStore:r,mainStore:i,holidayStore:new Ha(i),paymentStore:new Ei(i),reportSheetStore:new vi(i),userFeedbackStore:new ki(i),userStore:new ji(i),missionStore:new yi(i),specificationStore:new Oi(i)},n}return Object(O.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return l.createElement(w.a,this.stores,this.props.children)}}]),t}(l.Component),_i=o()();"SENTRY_DSN".startsWith("https")?(console.log("yes raven"),a.init({dsn:"SENTRY_DSN"})):console.log("no raven"),c.a.locale("de-ch"),b()(),p.render(l.createElement(Si,{history:_i},l.createElement(m.ThemeProvider,{theme:{colors:{blue:"#90CAF9",primary:"#90CAF9",black:"#212121",offwhite:"#F5F5F5",white:"#FFF"},layout:{baseSpacing:16}}},l.createElement(h.a,{history:_i},l.createElement(La,null)))),document.getElementById("root"))}},[[314,1,2]]]);
//# sourceMappingURL=main.daeb3393.chunk.js.map